(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{43:function(e,t,n){"use strict";n.r(t),n.d(t,"rutasSinToken",(function(){return a})),n.d(t,"rutasConToken",(function(){return c}));var r="https://work-shop-app.herokuapp.com",a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat(r).concat(e);return"GET"===n?fetch(a):fetch(a,{method:n,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat(r).concat(e);return"GET"===n?fetch(a,{method:n,headers:{token:localStorage.getItem("token")||""}}):fetch(a,{method:n,headers:{"Content-Type":"application/json",token:localStorage.getItem("token")||""},body:JSON.stringify(t)})}},656:function(e,t){},658:function(e,t){},698:function(e,t){},699:function(e,t){},907:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(0),c=n.n(a),i=n(31),o=n.n(i),s=n(22),l=n(103),j=n(17),d=n.n(j),u=n(33),b=n(25),x=n(43),O=n(34),A=n.n(O),m={checkUsuario:!0},h="[sesion] Checking final validacion",p="[sesion] Checking false Token",f="[sesion] Checking sesion state",g="[sesion] Finalizacion de sesion",v=n(40),_={data:!1,usuarios:[]},y="[Usuarios] obtener todos los usuarios",T="[Usuarios] Eliminar usuario",C="[Usuarios] Crear usuario",S={data:!1,clientes:[]},k="[Clientes] obtener todos los Clientes",w="[Clientes] modificar un cliente",E="[Clientes] Eliminar un cliente",R="[Clientes] Crear cliente",D="[Clientes] Solo un cliente",F=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.rutasConToken)("/cliente");case 2:return n=e.sent,e.next=5,n.json();case 5:if(!(r=e.sent).mensaje){e.next=10;break}return e.abrupt("return",A.a.fire({icon:"error",title:"Error",text:r.mensaje}));case 10:t({type:k,payload:r});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(u.a)(d.a.mark((function t(n){var r,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(x.rutasConToken)("/cliente",e,"POST");case 2:return r=t.sent,t.next=5,r.json();case 5:(a=t.sent).ok?(n({type:R,payload:a}),A.a.fire({title:"Exitoso",text:"Cliente guardado",icon:"success"})):A.a.fire({icon:"error",title:"Error",text:"Verifique que el numero de documento no este registrado"});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=n(43).rutasConToken,W={data:!1,categorias:[]},I="[Categorias] Cargar Categorias",L="[Categorias] Crear Categoria",V="[Categorias] Eliminar Categorias",B="[Categorias] Actualizar Categorias",U=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P("/categoria");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,t({type:I,payload:r.categoria});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},K={data:!1,objetos:[]},q="[Objetos] obtener todos los objetos",z="[Objetos] Eliminar objeto",G="[Objetos] Crear objeto",Q=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.rutasConToken)("/objeto?limit=100");case 2:return n=e.sent,e.next=5,n.json();case 5:if(!(r=e.sent).mensaje){e.next=10;break}return e.abrupt("return",A.a.fire({icon:"error",title:"Error",text:r.mensaje}));case 10:t({type:q,payload:r});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},M=n(129),Y=n.n(M),J={active:!1,arregloProceso:[],error:[]},X="[Public] cargar arreglo",H={estado:!1,servicios:"",servicioProceso:{}},Z="[Servicio] Crear servicio de venta",$="[Servicio] consulta servicio Cliente PDF",ee="[Servicio] limpiar Servicio",te="[Servicio] ejecutar proceso",ne=function(e,t){return function(){var n=Object(u.a)(d.a.mark((function n(r){var a,c,i,o,s,l,j,u,b,O,A,m;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(x.rutasConToken)("/cliente/cedula/".concat(e.cliente));case 2:return a=n.sent,n.next=5,a.json();case 5:if(c=n.sent,"VENTA"!==e.tipoServicio){n.next=19;break}return i=t.map((function(e){return{producto:e._id,cantidad:Number(e.cantidad),precioUnidad:e.precio,totalCompraItem:e.totalCompraItem,nombreObjeto:e.nombre}})),o={obj:e.observaciones},s={tipoServicio:e.tipoServicio,precioTotal:e.precioTotal,cliente:c.cliente._id,objetos:i,observaciones:o,numConsulta:e.cliente,procedimientos:t},n.next=12,Object(x.rutasConToken)("/servicio",s,"POST");case 12:return l=n.sent,n.next=15,l.json();case 15:j=n.sent,r({type:Z,payload:j}),n.next=30;break;case 19:if("ARREGLO"!==e.tipoServicio){n.next=30;break}return u=t.map((function(e){return{procedimientos:e._id,nombre:e.nombre,descripcion:e.descripcion,precio:e.precio}})),e.observaciones&&(b={obj:e.observaciones}),O={tipoServicio:e.tipoServicio,precioTotal:e.precioTotal,cliente:c.cliente._id,objetos:[],observaciones:b||[],numConsulta:e.cliente,procedimientos:u,procesoServicio:e.procesoServicio},n.next=25,Object(x.rutasConToken)("/servicio",O,"POST");case 25:return A=n.sent,n.next=28,A.json();case 28:m=n.sent,r({type:Z,payload:m});case 30:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},re=function(){return function(e){e({type:ee,payload:[]})}},ae={estado:!1,ventas:[]},ce="[Servicio] Consultar servicios solo de ventas",ie=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.rutasConToken)("/servicio/arreglo/activo");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,t({type:ce,payload:r.servicios});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},oe={estado:!1,procedimiento:[]},se="[Procedimientos] cargar procedimientos",le="[Procedimientos] crear procedimiento",je="[Procedimientos] actualizar procedimiento",de="[Procedimientos] eliminar procedimiento",ue=function(){return function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.rutasConToken)("/procedimiento");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,t({type:se,payload:r.procedimiento});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},be=n(593),xe=Object(l.c)({loginReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return e=Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{checkUsuario:!1});case p:return e=Object(b.a)(Object(b.a)({},e),{},{checkUsuario:!1});case g:return e={checkUsuario:!0};default:return e}},usuariosReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return e=Object(b.a)(Object(b.a)({},e),{},{usuarios:Object(v.a)(t.payload.datos.docs),data:!0});case T:var n=e.usuarios.filter((function(e){return e._id!==t.payload.usuarioEliminado._id}));return e=Object(b.a)(Object(b.a)({},e),{},{usuarios:Object(v.a)(n),data:!0});case C:return e=Object(b.a)(Object(b.a)({},e),{},{usuarios:[].concat(Object(v.a)(e.usuarios),[t.payload.nuevoUsuario]),data:!0});default:return e}},clientesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return e=Object(b.a)(Object(b.a)({},e),{},{clientes:Object(v.a)(t.payload.cliente.docs),data:!0});case w:var n=e.clientes.map((function(e){return e._id===t.payload.cliente._id?t.payload.cliente:e}));return Object(b.a)(Object(b.a)({},e),{},{clientes:n,data:!0});case E:var r=e.clientes.filter((function(e){return e._id!==t.payload.clienteActualizado._id}));return Object(b.a)(Object(b.a)({},e),{},{clientes:r,data:!0});case R:return e=Object(b.a)(Object(b.a)({},e),{},{clientes:[].concat(Object(v.a)(e.clientes),[t.payload.cliente]),data:!0});case D:return e={data:!0,clientes:[t.payload]};default:return e}},categoriasReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return e={data:!0,categorias:t.payload};case L:var n=t.payload.categoria;return!0===n.estado?n.estado="Activo":n.estado="Inactivo",e=Object(b.a)(Object(b.a)({},e),{},{data:!0,categorias:[].concat(Object(v.a)(e.categorias),[n])});case V:var r=e.categorias.filter((function(e){return e._id!==t.payload._id}));return e=Object(b.a)(Object(b.a)({},e),{},{categorias:r});case B:var a=e.categorias.map((function(e){return e._id===t.payload.categoria._id?((e=t.payload.categoria).estado="Activo",e):e}));return e=Object(b.a)(Object(b.a)({},e),{},{categorias:a});default:return e}},objetosReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return e=Object(b.a)(Object(b.a)({},e),{},{objetos:Object(v.a)(t.payload.objeto.docs),data:!0});case z:var n=e.objetos.filter((function(e){return e._id!==t.payload.objetoEliminado._id}));return e=Object(b.a)(Object(b.a)({},e),{},{objetos:Object(v.a)(n),data:!0});case G:return e=Object(b.a)(Object(b.a)({},e),{},{objetos:[].concat(Object(v.a)(e.objetos),[t.payload.objeto]),data:!0});default:return e}},publicReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return e=t.payload.error?{active:!1,arregloProceso:[],error:[t.payload.error.mensaje]}:Object(b.a)(Object(b.a)({},e),{},{active:!0,arregloProceso:t.payload.servicio,error:[]});default:return e}},serviciosReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return e=Object(b.a)(Object(b.a)({},e),{},{estado:!0,servicios:t.payload.servicio}),A.a.fire({position:"center",icon:"success",title:"Servicio registrado",showConfirmButton:!1,timer:3e3}),e;case $:return e={estado:!0,servicios:t.payload};case ee:return e=H;case te:return e=Object(b.a)(Object(b.a)({},e),{},{estado:!0,servicioProceso:t.payload});default:return e}},ventasReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return e={estado:!0,ventas:t.payload};default:return e}},procedimientosReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return e={estado:!0,procedimiento:t.payload};case le:return e=Object(b.a)(Object(b.a)({},e),{},{procedimiento:[].concat(Object(v.a)(e.procedimiento),[t.payload])});case je:var n=e.procedimiento.filter((function(e){return e._id!==t.payload._id}));return n.push(t.payload),e=Object(b.a)(Object(b.a)({},e),{},{procedimiento:n});case de:var r=e.procedimiento.filter((function(e){return e._id!==t.payload._id}));return e=Object(b.a)(Object(b.a)({},e),{},{procedimiento:r});default:return e}}}),Oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,Ae=Object(l.e)(xe,Oe(Object(l.a)(be.a))),me=n(201),he=n(77),pe=n(29),fe=n(946),ge=n(561),ve=n(121),_e=n(945),ye=n(944),Te=n(560),Ce=n(559),Se=n(947),ke=n(930),we=n(178),Ee=n.n(we),Re=n(263),De=n.n(Re),Fe=n(214),Ne=n.n(Fe),Pe=n(932),We=n(933),Ie=n(934),Le=n(935),Ve=function(){return Object(r.jsx)("div",{children:Object(r.jsxs)(ke.a,{container:!0,spacing:2,children:[Object(r.jsx)(ke.a,{item:!0,xs:12,md:4,children:Object(r.jsx)(Pe.a,{style:{maxWidth:345,maxHeight:280},children:Object(r.jsxs)(We.a,{children:[Object(r.jsx)(Ie.a,{style:{height:140},image:"https://cdn.pixabay.com/photo/2013/10/01/02/18/wheel-188959__340.jpg",title:"Contemplative Reptile"}),Object(r.jsx)(Le.a,{children:Object(r.jsx)(ve.a,{children:"Occaecat elit ipsum aute reprehenderit cillum nulla mollit consectetur incididunt consectetur do. Dolor quis elit quis non cupidatat. Labore incididunt et consequat aliquip officia nostrud esse aliquip sunt fugiat commodo. Labore exercitation veniam minim eu veniam laborum in. Culpa reprehenderit cupidatat laborum non officia fugiat incididunt dolore enim Lorem."})})]})})}),Object(r.jsx)(ke.a,{item:!0,xs:12,md:4,children:Object(r.jsx)(Pe.a,{style:{maxWidth:345,maxHeight:280},children:Object(r.jsxs)(We.a,{children:[Object(r.jsx)(Ie.a,{style:{height:140},image:"https://c.pxhere.com/photos/f1/0f/account_bank_business_buy_card_cards_cash_commerce-1160020.jpg!d",title:"Contemplative Reptile"}),Object(r.jsx)(Le.a,{children:Object(r.jsx)(ve.a,{children:"Occaecat elit ipsum aute reprehenderit cillum nulla mollit consectetur incididunt consectetur do. Dolor quis elit quis non cupidatat. Labore incididunt et consequat aliquip officia nostrud esse aliquip sunt fugiat commodo. Labore exercitation veniam minim eu veniam laborum in. Culpa reprehenderit cupidatat laborum non officia fugiat incididunt dolore enim Lorem."})})]})})}),Object(r.jsx)(ke.a,{item:!0,xs:12,md:4,children:Object(r.jsx)(Pe.a,{style:{maxWidth:345,maxHeight:280},children:Object(r.jsxs)(We.a,{children:[Object(r.jsx)(Ie.a,{style:{height:140},image:"https://c.pxhere.com/photos/b9/bd/tool_tools_equipment_work_handmade_manual_home_diy-1201707.jpg!d",title:"Contemplative Reptile"}),Object(r.jsx)(Le.a,{children:Object(r.jsx)(ve.a,{children:"Occaecat elit ipsum aute reprehenderit cillum nulla mollit consectetur incididunt consectetur do. Dolor quis elit quis non cupidatat. Labore incididunt et consequat aliquip officia nostrud esse aliquip sunt fugiat commodo. Labore exercitation veniam minim eu veniam laborum in. Culpa reprehenderit cupidatat laborum non officia fugiat incididunt dolore enim Lorem."})})]})})})]})})},Be=n(936),Ue=function(){return Object(r.jsx)(ke.a,{container:!0,color:"secondary",style:{background:"#2a2a72",textAlign:"center"},justify:"center",children:Object(r.jsxs)(ke.a,{item:!0,style:{padding:20},children:[Object(r.jsx)(ve.a,{variant:"h6",style:{color:"white"},children:"TALLER Y VENTAS SAS"}),Object(r.jsx)("br",{}),Object(r.jsx)(Be.a,{href:"https://www.facebook.com/Coffe-Labs-102077817884725",target:"_blank",style:{color:"white"},children:"Copyright \xa9 Coffe Labs. 2020"})]})})},Ke=n(62),qe=n(502),ze=n(503),Ge=n(937),Qe=n(938),Me=n(939),Ye=n(910),Je=n(415),Xe=n(940),He=n(496),Ze=n(941),$e=n(942),et=n(497),tt=n(498),nt=n(499),rt=n(500),at=n(501),ct=n(326),it=n.n(ct),ot=n(330),st=n.n(ot),lt=n(327),jt=n.n(lt),dt=n(325),ut=n.n(dt),bt=n(329),xt=n.n(bt),Ot=n(328),At=n.n(Ot),mt=function(){var e=Object(s.d)((function(e){return e.publicReducer})),t=e.arregloProceso.cliente,n=e.arregloProceso,c=["RECIBIDO","EN PROCESO","FINALIZADO","VENTA"];return console.log(e),Object(r.jsx)(a.Fragment,{children:e.active?Object(r.jsxs)(ke.a,{container:!0,style:{background:"white",textAlign:"center",marginBottom:60,padding:20},children:[Object(r.jsxs)(ke.a,{item:!0,xs:12,children:[Object(r.jsx)("h1",{children:"Estado de proceso"}),"RECIBIDO"===n.procesoServicio?Object(r.jsxs)(a.Fragment,{children:[Object(r.jsxs)(Ge.a,{children:[Object(r.jsx)(Qe.a,{children:Object(r.jsx)(Me.a,{children:c[0]})}),Object(r.jsx)(Qe.a,{children:Object(r.jsx)(Me.a,{children:c[1]})}),Object(r.jsx)(Qe.a,{active:!1,children:Object(r.jsx)(Me.a,{children:c[2]})})]}),Object(r.jsx)("h1",{children:" Estamos trabajando para satisfacerte "})," ",Object(r.jsx)(De.a,{style:{color:"orange"}})]}):"EN PROCESO"===n.procesoServicio?Object(r.jsxs)(a.Fragment,{children:[Object(r.jsxs)(Ge.a,{children:[Object(r.jsx)(Qe.a,{children:Object(r.jsx)(Me.a,{children:c[0]})}),Object(r.jsx)(Qe.a,{active:!0,children:Object(r.jsx)(Me.a,{children:c[1]})}),Object(r.jsx)(Qe.a,{active:!1,children:Object(r.jsx)(Me.a,{children:c[2]})})]}),Object(r.jsx)("h1",{children:" Estamos trabajando para satisfacerte "})," ",Object(r.jsx)(De.a,{style:{color:"orange"}})]}):"FINALIZADO"===n.procesoServicio&&Object(r.jsxs)(a.Fragment,{children:[Object(r.jsxs)(Ge.a,{children:[Object(r.jsx)(Qe.a,{children:Object(r.jsx)(Me.a,{children:c[0]})}),Object(r.jsx)(Qe.a,{active:!0,children:Object(r.jsx)(Me.a,{children:c[1]})}),Object(r.jsx)(Qe.a,{active:!0,children:Object(r.jsx)(Me.a,{children:c[2]})})]}),Object(r.jsx)("h1",{children:" Listo para recoger"})," ",Object(r.jsx)(ut.a,{style:{color:"#008000"}})]})]}),Object(r.jsx)(ke.a,{item:!0,xs:1,md:1}),Object(r.jsxs)(ke.a,{item:!0,xs:12,md:4,children:[Object(r.jsx)("h1",{children:"Observaciones"}),0===n.observaciones.length?Object(r.jsx)("h1",{children:"Tu proceso no tiene observaciones"}):n.observaciones.map((function(e,t){return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsxs)("h2",{children:["Observacion # ",t+1]}),Object(r.jsx)("p",{children:e.obj})]},e._id)}))]}),Object(r.jsx)(ke.a,{item:!0,xs:2,md:2}),Object(r.jsxs)(ke.a,{item:!0,xs:12,md:4,children:[Object(r.jsx)("h1",{children:"Detalle"}),Object(r.jsxs)(Ye.a,{children:[Object(r.jsxs)(Je.a,{children:[Object(r.jsx)(Xe.a,{children:Object(r.jsx)(it.a,{})}),Object(r.jsxs)(He.a,{children:["Numero de servicio : ",n.numServicio]})]}),Object(r.jsx)(Ze.a,{}),Object(r.jsxs)(Je.a,{children:[Object(r.jsx)(Xe.a,{children:Object(r.jsx)(jt.a,{})}),Object(r.jsxs)(He.a,{children:["Cliente: ",t.nombre]})]}),Object(r.jsx)(Ze.a,{}),Object(r.jsxs)(Je.a,{children:[Object(r.jsx)(Xe.a,{children:Object(r.jsx)(At.a,{})}),Object(r.jsxs)(He.a,{children:["Numero: ",t.telefono]})]}),Object(r.jsx)(Ze.a,{}),Object(r.jsxs)(Je.a,{children:[Object(r.jsx)(Xe.a,{children:Object(r.jsx)(xt.a,{})}),Object(r.jsxs)(He.a,{children:["Email: ",t.email]})]}),Object(r.jsx)(Ze.a,{}),Object(r.jsxs)(Je.a,{children:[Object(r.jsx)(Xe.a,{children:Object(r.jsx)(st.a,{})}),Object(r.jsxs)(He.a,{children:["Fecha recibido:",Object(r.jsx)("br",{})," ",n.fechaRegistro_iso]})]}),Object(r.jsx)(Ze.a,{})]})]}),Object(r.jsx)(ke.a,{item:!0,xs:1,md:1}),Object(r.jsxs)(ke.a,{item:!0,md:12,children:[Object(r.jsx)("h2",{children:"Procedimientos ya agregados"}),Object(r.jsx)($e.a,{children:Object(r.jsxs)(et.a,{size:"small","aria-label":"spanning table",children:[Object(r.jsx)(tt.a,{children:Object(r.jsxs)(nt.a,{children:[Object(r.jsx)(rt.a,{children:"Nombre"}),Object(r.jsx)(rt.a,{children:"Descripcion"}),Object(r.jsx)(rt.a,{align:"right",children:"Precio"})]})}),Object(r.jsxs)(at.a,{children:[n.procedimientos.map((function(e){return Object(r.jsxs)(nt.a,{children:[Object(r.jsx)(rt.a,{children:e.nombre}),Object(r.jsx)(rt.a,{children:e.descripcion}),Object(r.jsx)(rt.a,{align:"right",children:e.precio})]},e._id)})),Object(r.jsxs)(nt.a,{children:[Object(r.jsx)(rt.a,{colSpan:0}),Object(r.jsx)(rt.a,{align:"right",children:Object(r.jsx)("b",{children:"TOTAL:"})}),Object(r.jsx)(rt.a,{align:"right",children:Object(r.jsx)("b",{children:"12000"})})]})]})]})})]}),Object(r.jsx)("br",{})]}):Object(r.jsx)("h1",{children:"Nuemero de factura no existe \xf3 esta inactiva ya"})})},ht=n(958),pt=function(){var e=Object(Ke.b)(),t=e.errors,n=e.register,c=e.handleSubmit,i=Object(a.useState)(!0),o=Object(pe.a)(i,2),l=o[0],j=o[1],b=Object(a.useState)(!1),O=Object(pe.a)(b,2),m=O[0],h=O[1],p=Object(s.c)();return Object(r.jsx)(ke.a,{container:!0,alignItems:"center",justify:"center",children:Object(r.jsx)(ke.a,{item:!0,children:l?Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)("h1",{children:"Ingresa el numero de id"}),Object(r.jsxs)("form",{style:{margin:50},onSubmit:c((function(e,t){if(Number.isNaN(e.numFactura))return A.a.fire({title:"Error",text:"Campo ingresado no es valido",icon:"error"});var n;t.preventDefault(),j(!1),h(!0),p((n=e,function(){var e=Object(u.a)(d.a.mark((function e(t){var r,a,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Number(n.numFactura),e.next=3,Object(x.rutasSinToken)("/servicio/".concat(a));case 3:return c=e.sent,e.next=6,c.json();case 6:(null===(i=e.sent)||void 0===i||null===(r=i.servicio)||void 0===r?void 0:r.fechaRegistro_iso)&&(i.servicio.fechaRegistro_iso=Y()(i.servicio.fechaRegistro_iso).format("DD/MM/YYYY")),t({type:X,payload:i});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))})),children:[Object(r.jsx)(qe.a,{name:"numFactura",variant:"outlined",fullWidth:!0,inputRef:n({required:{value:!0,message:"El campo es obligatorio"},maxLength:{value:30,message:"El campo debe tener maximo 6 carateres"},valueAsNumber:{value:!0,message:"El campo debe ser numerico"}}),placeholder:"ID Factura"}),t.numFactura&&Object(r.jsx)(ht.a,{severity:"error",children:t.numFactura.message})]})]}):!1===m?Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(ze.a,{color:"primary"})," "]}):!0===m&&Object(r.jsx)(mt,{})})})},ft=n(408),gt=n(23),vt=n(47),_t=gt.StyleSheet.create({contenidoDatosCliente:{fontSize:12,marginTop:5},titulo:{marginTop:10,textAlign:"center"},body:{paddingTop:35,paddingBottom:65,paddingHorizontal:35},image:{marginVertical:10,marginHorizontal:230,width:"80opx",height:"80px"},subTitle:{fontSize:12,textAlign:"center"},grid:{display:"grid"},block:{backgroundColor:"red",height:"20px",width:"88vw",marginBottom:"10px"},blockTable:{height:"20px",width:"88vw",marginBottom:"10px"},datosCliente:{marginTop:"10px",marginLeft:10,fontSize:18,fontWeight:"900"},facturaTitulo:{display:"flex",fontSize:18,marginTop:-90,marginLeft:400},datosFactura:{textAlign:"right",fontSize:12,marginTop:5}}),yt=function(){var e=Object(Ke.b)(),t=e.errors,n=e.register,c=e.handleSubmit,i=Object(s.c)(),o=Object(s.d)((function(e){return e.serviciosReducer})).servicios,l=Object(a.useState)(!1),j=Object(pe.a)(l,2),b=j[0],O=j[1],m=function(){return Object(r.jsx)(gt.Document,{children:Object(r.jsx)(gt.Page,{size:"A4",style:_t.body,children:Object(r.jsxs)(gt.View,{children:[Object(r.jsx)(gt.Text,{style:_t.block}),Object(r.jsx)(gt.Image,{style:_t.image,src:"data:image/jpeg;base64,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"}),Object(r.jsx)(gt.Text,{style:_t.titulo,children:"Factura de venta"}),Object(r.jsx)(gt.Text,{style:_t.subTitle,children:" Nombre de la Empresa. LTDA"}),Object(r.jsx)(gt.Text,{style:_t.subTitle,children:"Nit. 999.999.99"}),Object(r.jsx)(gt.Text,{style:_t.subTitle,children:"Telefono : 6855463"}),Object(r.jsx)(gt.Text,{style:[_t.subTitle,{marginBottom:20}],children:" Cra 68 #68 int -68 Bogota D.C - Colombia "}),Object(r.jsx)(gt.Text,{style:{marginTop:10,marginBottom:10},children:"_____________________________________________________"}),Object(r.jsx)(gt.Text,{style:_t.datosCliente,children:"Datos Cliente"}),Object(r.jsxs)(gt.Text,{style:_t.contenidoDatosCliente,children:[" Nombre: ",o[0].cliente.nombre]}),Object(r.jsxs)(gt.Text,{style:_t.contenidoDatosCliente,children:[" Cedula: ",o[0].cliente.numDocumento||"no registra"]}),Object(r.jsxs)(gt.Text,{style:_t.contenidoDatosCliente,children:[" Email: ",o[0].cliente.email||"no registra"," "]}),Object(r.jsxs)(gt.Text,{style:_t.contenidoDatosCliente,children:[" Telefono: ",o[0].cliente.telefono||"no registra"]}),Object(r.jsx)(gt.Text,{style:_t.facturaTitulo,children:" Datos Factura "}),Object(r.jsxs)(gt.Text,{style:_t.datosFactura,children:["Numero de Factura:",o[0].numServicio," "]}),Object(r.jsxs)(gt.Text,{style:_t.datosFactura,children:["Fecha:",Y()(o[0].fechaRegistro_iso).format("DD/MM/YYYY")]}),Object(r.jsxs)(gt.Text,{style:_t.datosFactura,children:["Usuario: ",o[0].usuario.nombreApellido," "]}),Object(r.jsx)(gt.Text,{style:_t.blockTable}),Object(r.jsx)(gt.Text,{style:{marginTop:10,marginBottom:5},children:"_____________________________________________________"}),Object(r.jsx)(gt.Text,{style:{fontSize:20,marginTop:5,marginBottom:20,textAlign:"center"},children:"Detalle Venta "}),"VENTA"===o[0].tipoServicio&&Object(r.jsxs)(vt.Table,{data:o[0].objetos,children:[Object(r.jsxs)(vt.TableHeader,{children:[Object(r.jsx)(vt.TableCell,{children:"Nombre Articulo"}),Object(r.jsx)(vt.TableCell,{children:"Precio Unidad"}),Object(r.jsx)(vt.TableCell,{children:"Cantidad"}),Object(r.jsx)(vt.TableCell,{children:"Total Articulos"})]}),o[0].objetos.map((function(e,t){return Object(r.jsxs)(vt.TableBody,{children:[Object(r.jsx)(vt.DataTableCell,{getContent:function(e){return e.nombreObjeto}}),Object(r.jsx)(vt.DataTableCell,{getContent:function(e){return e.precioUnidad}}),Object(r.jsx)(vt.DataTableCell,{getContent:function(e){return e.cantidad}}),Object(r.jsx)(vt.DataTableCell,{getContent:function(e){return e.totalCompraItem}})]},t)}))]}),Object(r.jsx)(gt.Text,{style:{textAlign:"right",fontSize:15,marginRight:80},children:"TOTAL: ".concat(o[0].precioTotal)}),Object(r.jsx)(gt.Text,{style:{marginTop:5,marginBottom:5},children:"_____________________________________________________"}),o[0].observaciones[0].obj.length>0&&Object(r.jsx)(gt.Text,{style:{textAlign:"center",fontSize:20},children:"Observaciones: "}),o[0].observaciones.length>0&&o[0].observaciones.map((function(e,t){return Object(r.jsx)(gt.Text,{style:{textAlign:"center",fontSize:12,marginTop:10},children:e.obj},t)})),o[0].observaciones[0].obj.length>0&&Object(r.jsx)(gt.Text,{style:{marginTop:5,marginBottom:5},children:"_____________________________________________________"}),Object(r.jsx)(gt.Text,{style:[_t.block,{marginTop:15}]})]})})})};return Object(r.jsx)(ke.a,{container:!0,children:o.length>0?Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(ke.a,{item:!0,md:4}),Object(r.jsx)(ft.a,{align:"center",children:Object(r.jsxs)(ke.a,{item:!0,md:4,children:[Object(r.jsx)(Ce.a,{style:{marginBottom:20},onClick:function(){return O(!0)},fullWidth:!0,color:"secondary",variant:"contained",children:"Generar PDF"}),b&&Object(r.jsx)(gt.PDFDownloadLink,{fileName:"".concat(o[0].numServicio,".pdf"),document:Object(r.jsx)(m,{}),children:function(e){e.blob;var t=e.url,n=e.loading;e.error;return n?Object(r.jsx)(ze.a,{}):Object(r.jsx)(Ce.a,{style:{background:"red",color:"white",textDecoration:"none"},className:"bottonURL",id:t,fullWidth:!0,variant:"contained",endIcon:Object(r.jsx)(Ne.a,{}),children:"Descargar PDF"})}})]})}),Object(r.jsx)(ke.a,{item:!0,md:4})]}):Object(r.jsx)(ke.a,{item:!0,md:12,children:Object(r.jsxs)("form",{onSubmit:c((function(e,t){var n;t.preventDefault(),i((n=e.id,function(){var e=Object(u.a)(d.a.mark((function e(t){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.rutasConToken)("/servicios/clientes/ventas/".concat(n));case 2:return r=e.sent,e.next=5,r.json();case 5:!1===(a=e.sent).ok?A.a.fire({title:"Error",text:"Id invalido",icon:"error"}):t({type:$,payload:a.venta});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))})),style:{textAlign:"center"},children:[Object(r.jsx)("h1",{children:"Ingresa el codigo enviado a tu WhatsApp"}),t.id&&Object(r.jsx)(ht.a,{style:{justifyContent:"center",marginRight:150,marginLeft:150},severity:"error",children:t.id.message}),Object(r.jsx)("br",{}),Object(r.jsx)(qe.a,{name:"id",placeholder:"Identificacion mas numero de factura",variant:"outlined",inputRef:n({required:{value:!0,message:"Campo requerido"},minLength:{value:4,message:"El campo minimo es de 4 carateres"}})})]})})})};function Tt(e){var t=e.children,n=e.window,r=Object(ye.a)({disableHysteresis:!0,threshold:0,target:n?n():void 0});return Object(a.cloneElement)(t,{elevation:r?4:0})}var Ct=Object(Te.a)((function(e){return{toolbarTitle:{flexGrow:1},link:{margin:e.spacing(1,1.5)},cardHeader:{backgroundColor:"primary"},cardPricing:{display:"flex",justifyContent:"center",alignItems:"baseline",marginBottom:e.spacing(2)},contenedorPrincipal:{background:"#f0f4c3"}}})),St=function(){var e=Ct(),t=Object(a.useState)(!1),n=Object(pe.a)(t,2),c=n[0],i=n[1];return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(_e.a,{}),Object(r.jsx)(Tt,{children:Object(r.jsx)(fe.a,{position:"static",color:"secondary",children:Object(r.jsxs)(ge.a,{children:[Object(r.jsx)(ve.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.toolbarTitle,children:"TALLER VENTAS SAS"}),Object(r.jsx)("nav",{}),Object(r.jsx)(me.b,{to:"/login",style:{color:"white",textDecoration:"none"},children:Object(r.jsx)(Ce.a,{color:"primary",variant:"contained",className:e.link,children:"Login"})})]})})}),Object(r.jsxs)("main",{style:{padding:30},children:[Object(r.jsx)("div",{style:{padding:50},children:Object(r.jsxs)(Se.a,{maxWidth:"sm",children:[Object(r.jsx)(ve.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"TALLER Y VENTAS SAS"}),Object(r.jsx)(ve.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:"Consulta el estado en el que esta tu proceso de una manera rapida y facil."}),Object(r.jsx)("div",{className:e.heroButtons,children:Object(r.jsxs)(ke.a,{container:!0,spacing:2,justify:"center",children:[Object(r.jsx)(ke.a,{item:!0,children:Object(r.jsx)(Ce.a,{variant:"contained",color:"primary",endIcon:Object(r.jsx)(De.a,{}),onClick:function(){return i("proceso")},children:"Consulta tu proceso"})}),Object(r.jsx)(ke.a,{item:!0,children:Object(r.jsx)(Ce.a,{variant:"contained",color:"secondary",endIcon:Object(r.jsx)(Ne.a,{}),onClick:function(){return i("factura")},children:"Imprime tu Factura de venta"})}),Object(r.jsx)(ke.a,{item:!0,children:Object(r.jsx)(Ce.a,{variant:"contained",style:{background:"#075e54",color:"white"},href:"https://wa.me/573114476203",target:"_blank",endIcon:Object(r.jsx)(Ee.a,{}),children:"Contactanos"})})]})})]})}),"proceso"===c?Object(r.jsx)(pt,{}):"factura"===c&&Object(r.jsx)(yt,{}),Object(r.jsx)("br",{}),Object(r.jsx)(Se.a,{m:5,children:Object(r.jsx)(Ve,{})})]}),Object(r.jsx)("br",{}),Object(r.jsx)("footer",{children:Object(r.jsx)(Ue,{})})]})},kt=n(81),wt=n(41),Et=n(4),Rt=n(112),Dt=n(420),Ft=n(625),Nt=n.n(Ft),Pt=n(627),Wt=n.n(Pt),It=n(626),Lt=n.n(It),Vt=n(629),Bt=n.n(Vt),Ut=n(630),Kt=n.n(Ut),qt=n(133),zt=n.n(qt),Gt=n(632),Qt=n.n(Gt),Mt=n(631),Yt=n.n(Mt),Jt=n(628),Xt=n.n(Jt),Ht=n(98),Zt=n.n(Ht),$t=n(616),en=n.n($t),tn=n(950),nn=n(955),rn=n(951),an=n(416),cn=n(570),on=n(587),sn=n(441),ln=n.n(sn),jn=n(440),dn=n.n(jn),un=n(347),bn=n(341),xn=n.n(bn),On=function(e){var t=e.openRegistro,n=e.usuariosReducer,c=Object(s.c)(),i=Object(Ke.b)(),o=i.errors,l=i.register,j=i.handleSubmit,b=Object(a.useState)(t),O=Object(pe.a)(b,2),m=O[0],h=O[1],p=Object(a.useState)(!1),f=Object(pe.a)(p,2),g=f[0],v=f[1],_=Object(a.useState)(""),y=Object(pe.a)(_,2),T=y[0],S=y[1],k=Object(a.useState)(""),w=Object(pe.a)(k,2),E=w[0],R=w[1],D=Object(a.useState)(!1),F=Object(pe.a)(D,2),N=F[0],P=F[1],W=function(){h(!m)};return Object(r.jsx)("div",{children:Object(r.jsxs)(tn.a,{open:m,onClose:W,"aria-labelledby":"alert-dialog-title",maxWidth:"md",children:[Object(r.jsx)(nn.a,{id:"alert-dialog-title",children:"Nuevo Usuario"}),Object(r.jsx)(Ze.a,{}),Object(r.jsx)(rn.a,{children:Object(r.jsxs)("form",{onSubmit:j((function(e,t){t.preventDefault(),1!==n.usuarios.filter((function(t){return t.documento===e.documento})).length?e.contrase\u00f1a===e.contrase\u00f1a2?(e.role?e.role="ADMIN_ROLE":e.role="USER_ROLE",c(function(e,t){return function(){var n=Object(u.a)(d.a.mark((function n(r){var a,c,i,o,s,l,j;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0===t.length){n.next=38;break}return n.prev=1,A.a.fire({title:"Guardando",text:"Espere por favor",willOpen:function(){A.a.showLoading()}}),(a=new FormData).append("upload_preset","WorkShop"),a.append("file",t[0]),n.next=9,fetch("https://api.cloudinary.com/v1_1/du8b9axwm/upload",{method:"POST",body:a});case 9:if(!(c=n.sent).ok){n.next=27;break}return n.next=13,c.json();case 13:return i=n.sent,e.img=i.secure_url,delete e.contrase\u00f1a2,n.next=18,Object(x.rutasConToken)("/usuario",e,"POST");case 18:return o=n.sent,n.next=21,o.json();case 21:s=n.sent,r({type:C,payload:s}),A.a.close(),A.a.fire({title:"Usuario creado exitosamente",icon:"success"}),n.next=31;break;case 27:return console.log(c.json()),n.next=30,c.json();case 30:throw n.sent;case 31:n.next=36;break;case 33:n.prev=33,n.t0=n.catch(1),A.a.fire({title:"Usuario creado exitosamente",icon:"success",text:n.t0});case 36:n.next=56;break;case 38:return n.prev=38,A.a.fire({title:"Guardando",text:"Espere por favor",willOpen:function(){A.a.showLoading()}}),e.img="https://res.cloudinary.com/du8b9axwm/image/upload/v1607645626/mykft9tfjobdbu3orgyu.png",delete e.contrase\u00f1a2,n.next=44,Object(x.rutasConToken)("/usuario",e,"POST");case 44:return l=n.sent,n.next=47,l.json();case 47:j=n.sent,r({type:C,payload:j}),A.a.close(),A.a.fire({title:"Usuario creado exitosamente",icon:"success"}),n.next=56;break;case 53:return n.prev=53,n.t1=n.catch(38),n.abrupt("return",alert(n.t1));case 56:case"end":return n.stop()}}),n,null,[[1,33],[38,53]])})));return function(e){return n.apply(this,arguments)}}()}(e,T)),h(!1)):R("contrase\xf1a"):R("documento")})),children:[Object(r.jsxs)(ke.a,{container:!0,children:[Object(r.jsx)(ke.a,{item:!0,xs:5,children:Object(r.jsxs)(an.a,{fullWidth:!0,children:[Object(r.jsx)(qe.a,{variant:"standard",label:"Nombre y Apellido",name:"nombreApellido",inputRef:l({required:{value:!0,message:"Nombre y Apellido obligatorio"},minLength:{value:5,message:"El campo debe tener mas de 4  carateres"}})}),o.nombreApellido&&Object(r.jsx)(ht.a,{severity:"error",children:o.nombreApellido.message})]})}),Object(r.jsx)(ke.a,{item:!0,xs:1}),Object(r.jsx)(ke.a,{item:!0,xs:5,children:Object(r.jsxs)(an.a,{fullWidth:!0,children:[Object(r.jsx)(qe.a,{variant:"standard",label:"Numero Documento",name:"documento",inputRef:l({required:{value:!0,message:"documento obligatorio"},minLength:{value:5,message:"El campo debe tener mas de 6  carateres"}})}),o.documento&&Object(r.jsx)(ht.a,{severity:"error",children:o.documento.message}),"documento"===E&&Object(r.jsx)(ht.a,{severity:"error",children:"Documento ya existe en la base de datos"})]})}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),"                           ",Object(r.jsx)("br",{}),Object(r.jsxs)(ke.a,{container:!0,spacing:1,alignItems:"flex-end",children:[Object(r.jsx)(ke.a,{item:!0,xs:11,children:Object(r.jsxs)(an.a,{fullWidth:!0,children:[Object(r.jsx)(qe.a,{label:"Contrase\xf1a",type:!1===g?"password":"text",name:"contrase\xf1a",inputRef:l({required:{value:!0,message:"Nombre y Apellido obligatorio"},minLength:{value:5,message:"El campo debe tener mas de 6  carateres"}})}),o.contrase\u00f1a&&Object(r.jsx)(ht.a,{severity:"error",children:o.contrase\u00f1a.message})]})}),Object(r.jsx)(ke.a,{item:!0,xs:1,children:Object(r.jsx)(Dt.a,{style:{color:"black"},size:"small",onClick:function(){return v(!g)},children:g?Object(r.jsx)(dn.a,{}):Object(r.jsx)(ln.a,{})})})]}),Object(r.jsxs)(ke.a,{container:!0,spacing:1,alignItems:"flex-end",children:[Object(r.jsx)("br",{}),"  ",Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)(ke.a,{item:!0,xs:11,children:Object(r.jsxs)(an.a,{fullWidth:!0,children:[Object(r.jsx)(qe.a,{label:"Confirmar contrase\xf1a",type:!1===g?"password":"text",name:"contrase\xf1a2",inputRef:l({required:!0})}),"contrase\xf1a"===E&&Object(r.jsx)(ht.a,{severity:"error",children:"Las constrase\xf1as no coinciden"})]})}),Object(r.jsx)(ke.a,{item:!0,xs:1,children:Object(r.jsx)(Dt.a,{style:{color:"black"},size:"small",onClick:function(){return v(!g)},children:g?Object(r.jsx)(dn.a,{}):Object(r.jsx)(ln.a,{})})})]}),Object(r.jsxs)(ke.a,{item:!0,xs:12,children:[Object(r.jsx)("br",{})," ",Object(r.jsx)("br",{}),Object(r.jsx)(un.a,{dropzoneText:"Imagen de usuario",Icon:xn.a,acceptedFiles:["image/*"],onChange:function(e){return S(e)},onAlert:function(e,t){console.log("".concat(t,": ").concat("Tipo de archivo no es permitido, ingresa solo imagenes"))}})]}),Object(r.jsx)("br",{})," ",Object(r.jsx)("br",{}),"  ",Object(r.jsx)("br",{})," ",Object(r.jsx)("br",{}),Object(r.jsxs)(ke.a,{item:!0,xs:12,style:{textAlign:"center"},children:[Object(r.jsx)(cn.a,{control:Object(r.jsx)(on.a,{name:"role",color:"primary",value:N,onClick:function(){return P(!N)}}),label:"Rol Administrador",name:"role",inputRef:l,value:N}),Object(r.jsx)(ht.a,{severity:"warning",children:" El rol por defecto es: usuario"})]})]}),Object(r.jsx)("br",{}),Object(r.jsxs)(ke.a,{container:!0,children:[Object(r.jsx)(ke.a,{item:!0,xs:5,children:Object(r.jsx)(Ce.a,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,children:" Guardar usuario "})}),Object(r.jsx)("br",{})," ",Object(r.jsx)("br",{}),Object(r.jsx)(ke.a,{item:!0,xs:1}),Object(r.jsx)(ke.a,{item:!0,xs:5,children:Object(r.jsx)(Ce.a,{variant:"contained",color:"secondary",type:"reset",fullWidth:!0,onClick:W,children:" Cancelar "})})]})]})})]})})},An={body:{emptyDataSourceMessage:"Fuente de datos sin informacion ",addTooltip:"agregar informaci\xf3n",deleteTooltip:"Eliminar Registro",editTooltip:"Editar",filterRow:{filterTooltip:"Filtrar"},editRow:{deleteText:"Eliminar Registro",cancelTooltip:"Anular",saveTooltip:"Guardar Informacion "}},grouping:{placeholder:"posicion ",groupedBy:"agrupar por:"},header:{actions:"Acciones"},pagination:{labelDisplayedRows:"{from}-{to} de {count}",labelRowsSelect:"lineas",labelRowsPerPage:"pagina por lineas:",firstAriaLabel:"Primera pagina",firstTooltip:"Primera Pagina",previousAriaLabel:"Pagina Anterior",previousTooltip:"Pagina Anterior",nextAriaLabel:"Siguiente pagina",nextTooltip:"Siguiente pagina",lastAriaLabel:"\xdaltima p\xe1gina",lastTooltip:"\xdaltima p\xe1gina"},toolbar:{addRemoveColumns:"Agregar o quitar columnas",nRowsSelected:"{0} Linea(s) Seleccionada(s)",showColumnsTitle:"Ver columnas",showColumnsAriaLabel:"Ver columnas",exportTitle:"Exportar",exportAriaLabel:"Exportar",exportName:"Exportar en CSV",searchTooltip:"Buscar",searchPlaceholder:"Buscar"}},mn=function(){var e=Object(s.c)(),t=Object(s.d)((function(e){return e.usuariosReducer})),n=Object(s.d)((function(e){return e.loginReducer})),c=Object(a.useState)(!1),i=Object(pe.a)(c,2),o=i[0],l=i[1],j=[{field:"img",title:"Avatar",render:function(e){return Object(r.jsx)("img",{src:e.img,alt:"foto de perfil",style:{width:50,height:50,borderRadius:"50%"}})}},{title:"Nombre Apellido",field:"nombreApellido"},{title:"Documento",field:"documento"},{title:"Rol",field:"role"}];Object(a.useEffect)((function(){e(function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.rutasConToken)("/usuario");case 2:return n=e.sent,e.next=5,n.json();case 5:if(!(r=e.sent).mensaje){e.next=10;break}return e.abrupt("return",A.a.fire({icon:"error",title:"Error",text:r.mensaje}));case 10:t({type:y,payload:r});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]);return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(ve.a,{align:"center",variant:"h3",children:"Gestion de usuarios"}),0===n.length||"ADMIN_ROLE"!==n.role?Object(r.jsx)("h1",{children:"No tienes permiso"}):Object(r.jsxs)(a.Fragment,{children:[Object(r.jsxs)(ke.a,{container:!0,children:[Object(r.jsx)(ke.a,{item:!0,xs:12,md:8}),Object(r.jsx)(ke.a,{item:!0,xs:12,md:4,style:{marginTop:30,marginBottom:0},children:Object(r.jsx)(Ce.a,{variant:"contained",fullWidth:!0,color:"primary",endIcon:Object(r.jsx)(en.a,{}),onClick:function(e){e.preventDefault(),l(!o)},children:"Agregar Usuario"})})]}),o&&Object(r.jsx)(On,{usuariosReducer:t,openRegistro:o}),Object(r.jsx)(Zt.a,{style:{marginTop:50,justifyContent:"center"},columns:j,data:t.usuarios,editable:{onRowDelete:function(n){return new Promise((function(r,a){setTimeout((function(){var a,c=Object(v.a)(t.usuarios),i=n.tableData.id;c.splice(i,1),e((a=n,function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.rutasConToken)("/usuario/".concat(a._id),{},"DELETE");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,t({type:T,payload:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),r()}),1e3)}))}},title:"Usuarios",options:{actionsColumnIndex:-1,loadingType:"overlay",padding:"default",headerStyle:{padding:"10px"},exportButton:!0},localization:An})]})]})},hn=n(617),pn=n.n(hn),fn=n(618),gn=n.n(fn),vn=function(){var e=Object(s.c)();Object(a.useEffect)((function(){e(U())}),[e]);var t=Object(s.d)((function(e){return e.categoriasReducer})).categorias;return Object(r.jsx)("div",{children:Object(r.jsx)(Zt.a,{style:{marginTop:50,justifyContent:"center"},columns:[{title:"nombre",field:"nombre"},{title:"estado",field:"estado"}],data:t.map((function(e){return e.estado=!0===e.estado?"Activo":"Inactivo",e})),editable:{onRowAdd:function(t){return new Promise((function(n,r){var a;e((a=t,function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P("/categoria",a,"POST");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,t({type:L,payload:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),n()}))},onRowDelete:function(n){return new Promise((function(r,a){setTimeout((function(){var a,c=[t],i=n.tableData.id;c.splice(i,1),e((a=n._id,function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P("/categoria/".concat(a),{},"DELETE");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,t({type:V,payload:r.categoriaEliminada});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),r()}),1e3)}))},onRowUpdate:function(n,r){return new Promise((function(a){setTimeout((function(){var c,i=[t],o=r.tableData.id;i[o]=n,e((delete(c=i[o]).estado,function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P("/categoria/".concat(c._id),c,"PUT");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,t({type:B,payload:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),a()}),1e3)}))}},title:"Usuarios",options:{actionsColumnIndex:-1,loadingType:"overlay",padding:"default",headerStyle:{padding:"10px"},exportButton:!0},localization:An})})},_n=n(417),yn=n(430),Tn=n(563),Cn=function(e){var t=e.open,n=e.onClose,a=Object(s.d)((function(e){return e.loginReducer._id})),i=Object(Ke.b)({defaultValues:{categoria:"",estado:!1,usuario:a}}),o=i.register,l=i.handleSubmit,j=i.errors,b=i.control,O=c.a.useState(""),m=Object(pe.a)(O,2),h=m[0],p=m[1],f=Object(s.c)(),g=Object(s.d)((function(e){return e.categoriasReducer})).categorias;return c.a.useEffect((function(){f(U())}),[f]),Object(r.jsx)("div",{children:Object(r.jsxs)(tn.a,{open:t,onClose:n,maxWidth:"md",fullWidth:!0,children:[Object(r.jsx)(nn.a,{children:"Crear Nuevo Producto"}),Object(r.jsx)(Ze.a,{}),Object(r.jsx)(rn.a,{children:Object(r.jsx)("form",{onSubmit:l((function(e){f(function(e,t){return function(){var n=Object(u.a)(d.a.mark((function n(r){var a,c,i,o,s,l,j;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0===t.length){n.next=38;break}return n.prev=1,A.a.fire({title:"Guardando",text:"Espere por favor",willOpen:function(){A.a.showLoading()}}),(a=new FormData).append("upload_preset","WorkShop"),a.append("file",t[0]),n.next=9,fetch("https://api.cloudinary.com/v1_1/du8b9axwm/upload",{method:"POST",body:a});case 9:if(!(c=n.sent).ok){n.next=27;break}return n.next=13,c.json();case 13:return i=n.sent,e.img=i.secure_url,delete e.contrase\u00f1a2,n.next=18,Object(x.rutasConToken)("/objeto",e,"POST");case 18:return o=n.sent,n.next=21,o.json();case 21:s=n.sent,r({type:G,payload:s}),A.a.close(),A.a.fire({title:"producto creado exitosamente",icon:"success"}),n.next=31;break;case 27:return console.log(c.json()),n.next=30,c.json();case 30:throw n.sent;case 31:n.next=36;break;case 33:n.prev=33,n.t0=n.catch(1),A.a.fire({title:"producto creado exitosamente",icon:"success",text:n.t0});case 36:n.next=55;break;case 38:return n.prev=38,A.a.fire({title:"Guardando",text:"Espere por favor",willOpen:function(){A.a.showLoading()}}),e.img="https://res.cloudinary.com/du8b9axwm/image/upload/v1607645626/mykft9tfjobdbu3orgyu.png",n.next=43,Object(x.rutasConToken)("/objeto",e,"POST");case 43:return l=n.sent,n.next=46,l.json();case 46:j=n.sent,r({type:G,payload:j}),A.a.close(),A.a.fire({title:"producto creado exitosamente",icon:"success"}),n.next=55;break;case 52:return n.prev=52,n.t1=n.catch(38),n.abrupt("return",alert(n.t1));case 55:case"end":return n.stop()}}),n,null,[[1,33],[38,52]])})));return function(e){return n.apply(this,arguments)}}()}(e,h)),n()})),children:Object(r.jsxs)(ke.a,{container:!0,spacing:3,children:[Object(r.jsx)(ke.a,{item:!0,md:12,children:Object(r.jsxs)(an.a,{fullWidth:!0,children:[Object(r.jsx)(qe.a,{variant:"standard",label:"Nombre",name:"nombre",inputRef:o({required:{value:!0,message:"El nombre del producto es obligatorio"},minLength:{value:5,message:"El campo debe tener mas de 4 carateres"},pattern:{value:/^[a-zA-Z]/i,message:"no se pueden usar simbolos"}})}),j.nombre&&Object(r.jsx)(ht.a,{severity:"error",children:j.nombre.message})]})}),Object(r.jsx)(ke.a,{item:!0,md:6,children:Object(r.jsxs)(an.a,{fullWidth:!0,children:[Object(r.jsx)(qe.a,{variant:"standard",label:"Cantidad",name:"cantidadDisponible",type:"number",inputRef:o({required:{value:!0,message:"es necesario selecionar el stock del producto"},pattern:{value:/^[0-9]/i,message:"no se pueden usar simbolos o catacteres"}})}),j.cantidadDisponible&&Object(r.jsx)(ht.a,{severity:"error",children:j.cantidadDisponible.message})]})}),Object(r.jsx)(ke.a,{item:!0,md:6,children:Object(r.jsxs)(an.a,{fullWidth:!0,children:[Object(r.jsx)(qe.a,{variant:"standard",label:"Precio",name:"precio",type:"number",inputRef:o({required:{value:!0,message:"es necesario selecionar el precio del producto"},pattern:{value:/^[0-9]/i,message:"no se pueden usar simbolos o catacteres"}})}),j.cantidadDisponible&&Object(r.jsx)(ht.a,{severity:"error",children:j.cantidadDisponible.message})]})}),Object(r.jsx)(ke.a,{item:!0,md:12,children:Object(r.jsxs)(an.a,{fullWidth:!0,children:[Object(r.jsx)(_n.a,{children:"Categoria"}),Object(r.jsx)(Ke.a,{control:b,name:"categoria",as:Object(r.jsx)(yn.a,{children:g.map((function(e,t){return Object(r.jsx)(Tn.a,{value:e._id,children:e.nombre},t)}))})}),j.categoria&&Object(r.jsx)(ht.a,{severity:"error",children:j.categoria.message})]})}),Object(r.jsx)(ke.a,{item:!0,md:12,children:Object(r.jsxs)(an.a,{fullWidth:!0,children:[Object(r.jsx)(_n.a,{children:"Estado"}),Object(r.jsx)(Ke.a,{control:b,name:"estado",as:Object(r.jsxs)(yn.a,{children:[Object(r.jsx)(Tn.a,{value:!0,children:"Activo"}),Object(r.jsx)(Tn.a,{value:!1,children:"Desactivado"})]})}),j.estado&&Object(r.jsx)(ht.a,{severity:"error",children:j.estado.message})]})}),Object(r.jsx)(ke.a,{item:!0,xs:12,children:Object(r.jsx)(un.a,{dropzoneText:"Imagen de producto",Icon:xn.a,acceptedFiles:["image/*"],onChange:function(e){return p(e)},filesLimit:1,onAlert:function(e,t){console.log("".concat(t,": ").concat("Tipo de archivo no es permitido, ingresa solo imagenes"))}})}),Object(r.jsx)(ke.a,{item:!0,md:6,children:Object(r.jsx)(an.a,{fullWidth:!0,children:Object(r.jsx)(Ce.a,{variant:"contained",color:"primary",type:"submit",children:"Crear producto"})})}),Object(r.jsx)(ke.a,{item:!0,md:6,children:Object(r.jsx)(an.a,{fullWidth:!0,children:Object(r.jsx)(Ce.a,{variant:"contained",color:"secondary",onClick:n,children:"cancelar"})})})]})})})]})})},Sn=function(){var e=Object(s.c)();Object(a.useEffect)((function(){e(Q())}),[e]);var t=Object(s.d)((function(e){return e.objetosReducer})).objetos.map((function(e){if(void 0===e.categoria){var t=e.data;return t.category=e.data.categoria.nombre?e.data.categoria.nombre:e.data.categoria,t.user=e.data.usuario.nombreApellido?e.data.usuario.nombreApellido:e.data.usuario,t}return e.category=e.categoria.nombre?e.categoria.nombre:e.categoria,e.user=e.usuario.nombreApellido?e.usuario.nombreApellido:e.usuario,e})),n=[{title:"Nombre",field:"nombre"},{title:"Cantidad",field:"cantidadDisponible"},{title:"Precio",field:"precio"},{title:"Categoria",field:"category"},{title:"Usuario",field:"user"},{title:"Estado",field:"estado"},{field:"img",title:"Avatar",render:function(e){return Object(r.jsx)("img",{src:e.img,alt:"Img producto",style:{width:55,height:55,borderRadius:10}})}}],c=Object(a.useState)(!1),i=Object(pe.a)(c,2),o=i[0],l=i[1];return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{style:{marginTop:30},children:[Object(r.jsx)(Ce.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:function(){return l(!0)},children:"Crear Producto"}),Object(r.jsx)(Cn,{open:o,onClose:function(){l(!1)}})]}),Object(r.jsx)(Zt.a,{style:{marginTop:50,justifyContent:"center"},columns:n,data:t.map((function(e){return e.estado=!0===e.estado?"Activo":"Inactivo",e})),title:"Objetos",options:{actionsColumnIndex:-1,loadingType:"overlay",padding:"default",headerStyle:{padding:"10px"},exportButton:!0},localization:An})]})},kn=function(){var e=Object(a.useState)(""),t=Object(pe.a)(e,2),n=t[0],c=t[1];return Object(r.jsx)(a.Fragment,{children:Object(r.jsxs)(ft.a,{m:3,children:[Object(r.jsxs)(ke.a,{container:!0,children:[Object(r.jsx)(ke.a,{item:!0,xs:1,md:1}),Object(r.jsx)(ke.a,{item:!0,xs:12,md:4,lg:4,xl:4,children:Object(r.jsx)(Ce.a,{variant:"contained",endIcon:Object(r.jsx)(pn.a,{}),color:"primary",fullWidth:!0,onClick:function(){return c("categoria")},children:"Categorias"})}),Object(r.jsx)(ke.a,{item:!0,xs:1,md:1}),Object(r.jsx)("br",{}),Object(r.jsx)(ke.a,{item:!0,xs:12,md:4,lg:4,xl:4,children:Object(r.jsx)(Ce.a,{variant:"contained",endIcon:Object(r.jsx)(gn.a,{}),color:"secondary",fullWidth:!0,onClick:function(){return c("producto")},children:"Productos"})}),Object(r.jsx)(ke.a,{item:!0,xs:1,md:1})]}),"categoria"===n?Object(r.jsx)(vn,{}):"producto"===n?Object(r.jsx)(Sn,{}):Object(r.jsx)(ve.a,{variant:"h3",align:"center",style:{marginTop:40},children:"Index Inventario"})]})})},wn=function(){var e=Object(s.c)(),t=Object(s.d)((function(e){return e.loginReducer})),n=Object(s.d)((function(e){return e.clientesReducer}));Object(a.useEffect)((function(){e(F())}),[e]);return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(ve.a,{align:"center",variant:"h3",children:"Gestion de Clientes"}),0===t.length?Object(r.jsx)("h1",{children:"No tienes permiso"}):Object(r.jsx)(a.Fragment,{children:Object(r.jsx)(Zt.a,{style:{marginTop:50,justifyContent:"center"},title:"clientes",columns:[{title:"Nombre",field:"nombre"},{title:"numDocumento",field:"numDocumento"},{title:"email",field:"email"},{title:"telefono",field:"telefono"}],data:n.clientes,editable:{onRowAdd:function(t){return new Promise((function(n,r){e(N(t)),n()}))},onRowUpdate:function(t,n){return new Promise((function(r,a){var c;e((c=t,function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.rutasConToken)("/cliente/".concat(c._id),{data:c},"PUT");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,console.log(r),t({type:w,payload:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),console.log(n),r()}))},onRowDelete:function(t){return new Promise((function(n,r){var a;e((a=t,function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.rutasConToken)("/cliente/".concat(a._id),{},"DELETE");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,t({type:E,payload:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),n()}))}},options:{actionsColumnIndex:-1,loadingType:"overlay",padding:"default",headerStyle:{padding:"10px"},exportButton:!0},localization:An})})]})},En=n(150),Rn=n(572),Dn=n(217),Fn=n.n(Dn),Nn=n(104),Pn=n.n(Nn),Wn=n(345),In=n.n(Wn),Ln=n(344),Vn=n.n(Ln),Bn=gt.StyleSheet.create({contenidoDatosCliente:{fontSize:12,marginTop:5},titulo:{marginTop:10,textAlign:"center"},body:{paddingTop:35,paddingBottom:65,paddingHorizontal:35},image:{marginVertical:10,marginHorizontal:230,width:"80opx",height:"80px"},subTitle:{fontSize:12,textAlign:"center"},grid:{display:"grid"},block:{backgroundColor:"red",height:"20px",width:"88vw",marginBottom:"10px"},blockTable:{height:"20px",width:"88vw",marginBottom:"5px"},datosCliente:{marginTop:"10px",marginLeft:10,fontSize:18,fontWeight:"900"},facturaTitulo:{display:"flex",fontSize:18,marginTop:-90,marginLeft:400},datosFactura:{textAlign:"right",fontSize:12,marginTop:5}}),Un=function(){var e=Object(a.useState)(!1),t=Object(pe.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){setTimeout((function(){c(!0)}),500)}),[]);var i=Object(s.d)((function(e){return e.serviciosReducer})).servicios,o=Object(s.d)((function(e){return e.loginReducer})).nombreApellido,l=Object(s.d)((function(e){return e.clientesReducer})).clientes.filter((function(e){return e._id===i.cliente}))[0],j=function(){var e,t;return Object(r.jsx)(gt.Document,{children:Object(r.jsx)(gt.Page,{size:"A4",style:Bn.body,children:Object(r.jsxs)(gt.View,{children:[Object(r.jsx)(gt.Text,{style:Bn.block}),Object(r.jsx)(gt.Image,{style:Bn.image,src:"data:image/jpeg;base64,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"}),"VENTA"===i.tipoServicio?Object(r.jsx)(gt.Text,{style:Bn.titulo,children:"Factura de venta"}):Object(r.jsx)(gt.Text,{style:Bn.titulo,children:"Factura de Servicio"}),Object(r.jsx)(gt.Text,{style:Bn.subTitle,children:" Nombre de la Empresa. LTDA"}),Object(r.jsx)(gt.Text,{style:Bn.subTitle,children:"Nit. 999.999.99"}),Object(r.jsx)(gt.Text,{style:Bn.subTitle,children:"Telefono : 6855463"}),Object(r.jsx)(gt.Text,{style:[Bn.subTitle,{marginBottom:20}],children:" Cra 68 #68 int -68 Bogota D.C - Colombia "}),Object(r.jsx)(gt.Text,{style:{marginTop:10,marginBottom:10},children:"_____________________________________________________"}),Object(r.jsx)(gt.Text,{style:Bn.datosCliente,children:"Datos Cliente"}),Object(r.jsxs)(gt.Text,{style:Bn.contenidoDatosCliente,children:[" Nombre: ",l.nombre]}),Object(r.jsxs)(gt.Text,{style:Bn.contenidoDatosCliente,children:[" Cedula: ",l.numDocumento||"no registra"]}),Object(r.jsxs)(gt.Text,{style:Bn.contenidoDatosCliente,children:[" Email: ",l.email||"no registra"," "]}),Object(r.jsxs)(gt.Text,{style:Bn.contenidoDatosCliente,children:[" Telefono: ",l.telefono||"no registra"]}),Object(r.jsx)(gt.Text,{style:Bn.facturaTitulo,children:" Datos Factura "}),Object(r.jsxs)(gt.Text,{style:Bn.datosFactura,children:["Numero de Factura:",i.numServicio," "]}),Object(r.jsxs)(gt.Text,{style:Bn.datosFactura,children:["Fecha:",Y()(i.fechaRegistro_iso).format("DD/MM/YYYY")]}),Object(r.jsxs)(gt.Text,{style:Bn.datosFactura,children:["Usuario: ",o," "]}),Object(r.jsxs)(gt.Text,{style:Bn.datosFactura,children:["Estado de servicio:",i.procesoServicio]}),Object(r.jsx)(gt.Text,{style:{marginTop:5,marginBottom:5},children:"_____________________________________________________"}),"VENTA"===i.tipoServicio?Object(r.jsx)(gt.Text,{style:{fontSize:18,marginTop:5,marginBottom:15,textAlign:"center"},children:"Detalle Venta "}):Object(r.jsx)(gt.Text,{style:{fontSize:18,marginTop:5,marginBottom:15,textAlign:"center"},children:"Detalle Servicio "}),"VENTA"===i.tipoServicio?Object(r.jsxs)(vt.Table,{data:i.objetos,children:[Object(r.jsxs)(vt.TableHeader,{children:[Object(r.jsx)(vt.TableCell,{children:"Nombre Articulo"}),Object(r.jsx)(vt.TableCell,{children:"Precio Unidad"}),Object(r.jsx)(vt.TableCell,{children:"Cantidad"}),Object(r.jsx)(vt.TableCell,{children:"Total Articulos"})]}),i.objetos.map((function(e,t){return Object(r.jsxs)(vt.TableBody,{children:[Object(r.jsx)(vt.DataTableCell,{getContent:function(e){return e.nombreObjeto}}),Object(r.jsx)(vt.DataTableCell,{getContent:function(e){return e.precioUnidad}}),Object(r.jsx)(vt.DataTableCell,{getContent:function(e){return e.cantidad}}),Object(r.jsx)(vt.DataTableCell,{getContent:function(e){return e.totalCompraItem}})]},t)}))]}):Object(r.jsxs)(vt.Table,{data:i.procedimientos,children:[Object(r.jsxs)(vt.TableHeader,{children:[Object(r.jsx)(vt.TableCell,{children:"Nombre"}),Object(r.jsx)(vt.TableCell,{children:"Detalle"}),Object(r.jsx)(vt.TableCell,{children:"Precio"})]}),i.procedimientos.map((function(e,t){return Object(r.jsxs)(vt.TableBody,{children:[Object(r.jsx)(vt.DataTableCell,{getContent:function(e){return e.nombre}}),Object(r.jsx)(vt.DataTableCell,{getContent:function(e){return e.descripcion}}),Object(r.jsx)(vt.DataTableCell,{getContent:function(e){return e.precio}})]},t)}))]}),"ARREGLO"===i.tipoServicio?Object(r.jsx)(gt.Text,{style:{textAlign:"right",fontSize:15,marginRight:140},children:"TOTAL: ".concat(i.precioTotal)}):Object(r.jsx)(gt.Text,{style:{textAlign:"right",fontSize:15,marginRight:80},children:"TOTAL: ".concat(i.precioTotal)}),"ARREGLO"===i.tipoServicio&&Object(r.jsx)(gt.Text,{style:{marginTop:5,marginBottom:5},children:"_____________________________________________________"}),(null===i||void 0===i||null===(e=i.observaciones[0])||void 0===e?void 0:e.obj.length)>0&&Object(r.jsx)(gt.Text,{style:{textAlign:"center",fontSize:18},children:"Observaciones: "}),i.observaciones.length>0&&i.observaciones.map((function(e,t){return Object(r.jsx)(gt.Text,{style:{textAlign:"center",fontSize:12,marginTop:10},children:e.obj},t)})),(null===i||void 0===i||null===(t=i.observaciones[0])||void 0===t?void 0:t.obj.length)>0&&Object(r.jsx)(gt.Text,{style:{marginTop:5,marginBottom:5},children:"_____________________________________________________"}),Object(r.jsx)(gt.Text,{style:[Bn.block,{marginTop:15}]})]})})})};return Object(r.jsxs)(a.Fragment,{children:[n&&Object(r.jsx)(a.Fragment,{children:Object(r.jsx)(gt.PDFDownloadLink,{document:Object(r.jsx)(j,{}),wrap:!1,fileName:"".concat(i.numServicio,".pdf"),children:function(e){e.blob;var t=e.url,n=e.loading;e.error;return n?Object(r.jsx)(ze.a,{}):Object(r.jsx)(Ce.a,{style:{background:"red",color:"white",textDecoration:"none"},className:"bottonURL",id:t,fullWidth:!0,variant:"contained",endIcon:Object(r.jsx)(Ne.a,{}),children:"Descargar PDF"},t+"1")}})}),Object(r.jsx)("a",{style:{color:"white",textDecoration:"none"},rel:"noreferrer",href:"https://api.whatsapp.com/send?phone=57".concat(l.telefono,"&text=Hola%20").concat(l.nombre,",%20descarga%20tu%20factura%20aqui%0D%0A").concat("https://work-shop-app.herokuapp.com","%0D%0Acodigo%20unico%20de%20tu%20factura%20es%20tu%20numero%20de%20identificacion%20mas%20el%20numero%20de%20tu%20factura%20").concat(i.numServicio,"%20codigo:%20").concat(l.numDocumento).concat(i.numServicio),target:"_blank",children:Object(r.jsx)(Ce.a,{variant:"contained",endIcon:Object(r.jsx)(Ee.a,{}),style:{background:"#075e54",marginTop:12,color:"white"},fullWidth:!0,children:"enviar a cliente"})})]})},Kn=function(e){var t=e.open,n=e.onClose,a=Object(s.c)(),c=Object(Ke.b)(),i=c.register,o=c.handleSubmit,l=c.errors;return Object(r.jsx)("div",{children:Object(r.jsxs)(tn.a,{open:t,onClose:n,maxWidth:"sm",fullWidth:!0,children:[Object(r.jsx)(nn.a,{children:"Crear Nuevo cliente"}),Object(r.jsx)(Ze.a,{}),Object(r.jsx)(rn.a,{children:Object(r.jsx)("form",{onSubmit:o((function(e){a(N(e)),n()})),children:Object(r.jsxs)(ke.a,{container:!0,spacing:3,children:[Object(r.jsx)(ke.a,{item:!0,md:6,children:Object(r.jsxs)(an.a,{fullWidth:!0,children:[Object(r.jsx)(qe.a,{variant:"standard",label:"Nombre",name:"nombre",inputRef:i({required:{value:!0,message:"El nombre del cliente es obligatorio"},minLength:{value:5,message:"El campo debe tener mas de 4 carateres"},pattern:{value:/^[a-zA-Z]/i,message:"no se pueden usar simbolos"}})}),l.nombre&&Object(r.jsx)(ht.a,{severity:"error",children:l.nombre.message})]})}),Object(r.jsx)(ke.a,{item:!0,md:6,children:Object(r.jsxs)(an.a,{fullWidth:!0,children:[Object(r.jsx)(qe.a,{variant:"standard",label:"Email",name:"email",inputRef:i({required:{value:!0,message:"El nombre del email es obligatorio"}})}),l.email&&Object(r.jsx)(ht.a,{severity:"error",children:l.email.message})]})}),Object(r.jsx)(ke.a,{item:!0,md:6,children:Object(r.jsxs)(an.a,{fullWidth:!0,children:[Object(r.jsx)(qe.a,{variant:"standard",label:"Telefono",name:"telefono",type:"number",inputRef:i({required:{value:!0,message:"es necesario selecionar el telefono del cliente"},pattern:{value:/^[0-9]/i,message:"no se pueden usar simbolos o catacteres"}})}),l.telefono&&Object(r.jsx)(ht.a,{severity:"error",children:l.telefono.message})]})}),Object(r.jsx)(ke.a,{item:!0,md:6,children:Object(r.jsxs)(an.a,{fullWidth:!0,children:[Object(r.jsx)(qe.a,{variant:"standard",label:"Identificacion",name:"numDocumento",type:"number",inputRef:i({required:{value:!0,message:"es necesario poner un numero de identificacion"},pattern:{value:/^[0-9]/i,message:"no se pueden usar simbolos o catacteres"}})}),l.numDocumento&&Object(r.jsx)(ht.a,{severity:"error",children:l.numDocumento.message})]})}),Object(r.jsx)(ke.a,{item:!0,md:6,children:Object(r.jsx)(an.a,{fullWidth:!0,children:Object(r.jsx)(Ce.a,{variant:"contained",color:"primary",type:"submit",children:"Crear cliente"})})}),Object(r.jsx)(ke.a,{item:!0,md:6,children:Object(r.jsx)(an.a,{fullWidth:!0,children:Object(r.jsx)(Ce.a,{variant:"contained",color:"secondary",onClick:n,children:"cancelar"})})})]})})})]})})},qn=function(e){var t=e.setOpenService,n=Object(Ke.b)(),c=n.register,i=n.handleSubmit,o=n.control,l=Object(s.c)(),j=Object(s.d)((function(e){return e.clientesReducer})).clientes,d=Object(s.d)((function(e){return e.objetosReducer})).objetos,u=Object(s.d)((function(e){return e.serviciosReducer})),b=Object(a.useState)(!1),x=Object(pe.a)(b,2),O=x[0],m=x[1],h=Object(a.useState)([]),p=Object(pe.a)(h,2),f=p[0],g=p[1],v=Object(a.useState)(""),_=Object(pe.a)(v,2),y=_[0],T=_[1];Object(a.useEffect)((function(){l(F()),l(Q())}),[l]);var C=j.map((function(e){return e.numDocumento})),S=d.map((function(e){return e.nombre})),k=function(e){g(f.map((function(t){var n;return t.cantidad=null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value,t})))};Object(a.useEffect)((function(){null===f||void 0===f||f.map((function(e,t){var n,r;e.totalCompraItem=(null===(n=document)||void 0===n||null===(r=n.getElementById("cantidad".concat(t)))||void 0===r?void 0:r.value)*e.precio||0}));var e=[],t=0;for(var n in f)e.push(f[n].totalCompraItem);e.forEach((function(e){t+=e})),T(t)}),[f]);return Object(r.jsxs)(a.Fragment,{children:[!0===O&&Object(r.jsx)(Kn,{open:O,onClose:function(){m(!1)}}),Object(r.jsx)(ft.a,{align:"center",mb:1,children:Object(r.jsxs)(ke.a,{container:!0,spacing:2,justify:"center",children:[Object(r.jsx)(ke.a,{item:!0,md:2,children:Object(r.jsx)(Dt.a,{color:"primary",onClick:function(){l(re()),t(!1)},style:{background:"#d4d700"},"aria-label":"upload picture",component:"span",children:Object(r.jsx)(Fn.a,{})})}),Object(r.jsx)(ke.a,{item:!0,md:8,xs:12,children:Object(r.jsx)(ve.a,{variant:"h4",children:" Nuevo Servicio"})}),Object(r.jsx)(ke.a,{item:!0,md:2})]})}),Object(r.jsx)(ft.a,{align:"center",children:Object(r.jsxs)(ke.a,{container:!0,spacing:0,children:[Object(r.jsxs)(ke.a,{item:!0,md:8,children:[!1===u.estado&&Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)("h1",{children:"Seleccion de productos "}),Object(r.jsx)(ke.a,{item:!0,xs:12,md:10,style:{marginTop:10},children:Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)("label",{children:"Productos"}),Object(r.jsx)(Nn.MultipleSelect,{fullWidth:!0,options:S,onChange:function(e){!function(e){var t=e,n=[];for(var r in d)for(var a in t){var c;(null===(c=d[r])||void 0===c?void 0:c.nombre)===t[a]&&n.push(d[r])}g(n)}(e)},placeholder:"Seleccione los productos",SelectProps:{msgNoOptionsMatchFilter:"No hay resultados"}})]})}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{})]}),!1===u.estado&&Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)("h1",{children:"Detalle pedido "}),Object(r.jsx)($e.a,{component:En.a,children:Object(r.jsxs)(et.a,{size:"small","aria-label":"a dense table",children:[Object(r.jsx)(tt.a,{children:Object(r.jsxs)(nt.a,{children:[Object(r.jsx)(rt.a,{children:"Producto"}),Object(r.jsx)(rt.a,{children:"Stock"}),Object(r.jsx)(rt.a,{children:"Cantidad"}),Object(r.jsx)(rt.a,{children:"Precio unidad"}),Object(r.jsx)(rt.a,{children:"Precio Total"}),Object(r.jsx)(rt.a,{children:"Eliminar Entrada"})]})}),Object(r.jsx)(at.a,{children:f.map((function(e,t){var n,a;return e.cantidad=(null===(n=document)||void 0===n||null===(a=n.getElementById("cantidad".concat(t)))||void 0===a?void 0:a.value)||0,Object(r.jsxs)(nt.a,{children:[Object(r.jsx)(rt.a,{children:e.nombre}),Object(r.jsx)(rt.a,{children:e.cantidadDisponible}),Object(r.jsx)(rt.a,{children:Object(r.jsx)(qe.a,{onChange:k,type:"number",id:"cantidad".concat(t),defaultValue:e.cantidad,variant:"standard"})}),Object(r.jsx)(rt.a,{children:e.precio}),Object(r.jsx)(rt.a,{children:e.totalCompraItem}),Object(r.jsx)(rt.a,{children:Object(r.jsx)(Dt.a,{onClick:function(){return function(e){var t=f.filter((function(t){return t._id!==e}));g(t)}(e._id)},children:Object(r.jsx)(Vn.a,{style:{color:"red"}})})})]},e._id)}))})]})}),Object(r.jsx)("br",{})]}),Object(r.jsx)(ke.a,{item:!0,md:10})]}),!1===u.estado&&Object(r.jsx)(a.Fragment,{children:Object(r.jsxs)(ke.a,{item:!0,xs:12,md:4,children:[Object(r.jsx)("h1",{children:"Datos de la Factura"}),Object(r.jsx)("form",{onSubmit:i((function(e,t){t.preventDefault(),e.cliente.length<3?A.a.fire({title:"Error",text:"Ingrese el campo Cliente",icon:"error"}):0===f.length?A.a.fire({title:"Error",text:"Ingrese al menos un producto",icon:"error"}):l(ne(e,f))})),children:Object(r.jsxs)(an.a,{children:[Object(r.jsx)(ke.a,{item:!0,xs:12,md:12,style:{marginBottom:2},children:Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)("h3",{children:"Tipo Servicio"}),Object(r.jsx)(Ke.a,{control:o,name:"tipoServicio",defaultValue:"VENTA",options:["VENTA"],as:Object(r.jsx)(Pn.a,{fullWidth:!0,placeholder:"Selecciona",SelectProps:{msgNoOptionsMatchFilter:"No hay resultados"}})})]})}),Object(r.jsx)(ke.a,{item:!0,xs:12,md:12,style:{marginBottom:10},children:Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)("h3",{children:"Selecciona el Cliente"}),Object(r.jsx)(Ke.a,{control:o,name:"cliente",defaultValue:"",as:Object(r.jsx)(Pn.a,{inputRef:c({required:!0,minLength:3}),fullWidth:!0,options:C,placeholder:"Busca por identificacion",SelectProps:{msgNoOptionsMatchFilter:"No hay resultados, verifica o crea un cliente"}})})]})}),Object(r.jsx)(ke.a,{item:!0,xs:12,md:12,style:{marginTop:1},children:Object(r.jsx)(Ce.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){return m(!0)},endIcon:Object(r.jsx)(In.a,{}),children:"Cliente Nuevo"})}),Object(r.jsxs)(ke.a,{item:!0,md:12,children:[Object(r.jsx)("h2",{children:Object(r.jsx)("label",{children:"Observaciones"})}),Object(r.jsx)("textarea",{name:"observaciones","aria-label":"empty textarea",placeholder:"Observaciones",style:{borderColor:"black",borderRadius:5,width:"20vw",height:"15vh",marginBottom:10},ref:c})]}),Object(r.jsx)(ke.a,{item:!0,xs:12,md:12,children:Object(r.jsx)(qe.a,{value:y,variant:"standard",name:"precioTotal",fullWidth:!0,placeholder:"TOTAL",inputRef:c,InputProps:{startAdornment:Object(r.jsxs)(Rn.a,{position:"start",children:[Object(r.jsx)(zt.a,{})," "]})}})}),Object(r.jsx)("br",{}),Object(r.jsx)(ke.a,{item:!0,xs:12,md:12,children:Object(r.jsx)(Ce.a,{variant:"contained",type:"submit",color:"primary",fullWidth:!0,children:"Guardar"})})]})})]})})]})}),u.estado&&Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)(ke.a,{item:!0,md:12,xs:12,children:Object(r.jsx)(Un,{})})]})]})},zn=function(){var e=Object(s.c)(),t=Object(s.d)((function(e){return e.ventasReducer})).ventas;Object(a.useEffect)((function(){e(function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.rutasConToken)("/servicios/ventas/consultas");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,t({type:ce,payload:r.ventas});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]);return Object(r.jsx)(ke.a,{container:!0,spacing:3,children:Object(r.jsx)(ke.a,{item:!0,md:12,children:Object(r.jsx)(Zt.a,{title:"Registro de ventas",columns:[{field:"numServicio",title:"# Registro"},{field:"fechaRegistro_iso",title:"Fecha"},{field:"nombreCliente",title:"Cliente"},{field:"precioTotal",title:"Valor Venta"},{field:"Colaborador",title:"Colaborador"},{field:"numConsulta",title:"id consulta"}],data:0===t.length?[]:t.map((function(e){return e.nombreCliente=e.cliente.nombre||"no registra",e.fechaRegistro_iso=Y()(e.fechaRegistro_iso).format("DD-MM-YYYY"),e.Colaborador=e.usuario.nombreApellido,e})),options:{actionsColumnIndex:-1},localization:An})})})},Gn=function(){var e=Object(a.useState)(!1),t=Object(pe.a)(e,2),n=t[0],c=t[1];return Object(r.jsxs)(a.Fragment,{children:[!n&&Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(ve.a,{variant:"h4",align:"center",style:{margin:40},children:"Modulo Ventas "}),Object(r.jsxs)(ke.a,{container:!0,spacing:3,children:[Object(r.jsx)(ke.a,{item:!0,md:3}),Object(r.jsx)(ke.a,{item:!0,xs:12,md:6,children:Object(r.jsx)(Ce.a,{variant:"contained",size:"large",color:"primary",onClick:function(){return c(!0)},endIcon:Object(r.jsx)(zt.a,{}),fullWidth:!0,children:"Registrar Venta"})}),Object(r.jsx)(ke.a,{item:!0,md:3})]})]}),n?Object(r.jsx)(qn,{setOpenService:c}):Object(r.jsx)(zn,{})]})},Qn=n(619),Mn=n.n(Qn),Yn=function(e){var t=e.setTallerState,n=Object(Ke.b)(),c=n.handleSubmit,i=n.control,o=n.register,l=Object(a.useState)([]),j=Object(pe.a)(l,2),d=j[0],u=j[1],b=Object(a.useState)(!1),x=Object(pe.a)(b,2),O=x[0],m=x[1],h=Object(a.useState)(!1),p=Object(pe.a)(h,2),f=p[0],g=p[1],v=Object(s.d)((function(e){return e.serviciosReducer})),_=Object(s.c)(),y=Object(s.d)((function(e){return e.clientesReducer})).clientes,T=Object(s.d)((function(e){return e.procedimientosReducer})).procedimiento;Object(a.useEffect)((function(){_(F()),_(ue())}),[_]);var C=y.map((function(e){return e.numDocumento}));return Object(r.jsxs)(a.Fragment,{children:[!0===f&&Object(r.jsx)(Kn,{open:f,onClose:function(){g(!1)}}),Object(r.jsxs)(ke.a,{container:!0,children:[Object(r.jsx)(ke.a,{item:!0,md:2,xs:12,children:Object(r.jsx)(ft.a,{align:"center",children:Object(r.jsx)(Dt.a,{color:"primary",onClick:function(){return t("")},style:{background:"#d4d700"},"aria-label":"upload picture",component:"span",children:Object(r.jsx)(Fn.a,{})})})}),Object(r.jsx)(ke.a,{item:!0,md:8,xs:12,children:Object(r.jsx)("h1",{style:{textAlign:"center"},children:"Agregar Nuevo Servicio"})})]}),!1===v.estado&&Object(r.jsxs)(ke.a,{container:!0,spacing:2,children:[Object(r.jsx)(ke.a,{item:!0,md:8,xs:12,children:Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)("h1",{style:{textAlign:"center"},children:"Seleccion Servicios "}),Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(ft.a,{align:"center",children:Object(r.jsx)(ke.a,{item:!0,xs:12,md:8,style:{marginTop:5},children:Object(r.jsx)(Nn.MultipleSelect,{fullWidth:!0,options:T.map((function(e){return e.nombre})),onChange:function(e){!function(e){var t=e,n=[];for(var r in T)for(var a in t){var c;(null===(c=T[r])||void 0===c?void 0:c.nombre)===t[a]&&n.push(T[r])}u(n)}(e)},placeholder:"Seleccione los servicios",SelectProps:{msgNoOptionsMatchFilter:"No hay resultados"}})})}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{})]}),Object(r.jsx)($e.a,{component:En.a,children:Object(r.jsxs)(et.a,{size:"small","aria-label":"a dense table",children:[Object(r.jsx)(tt.a,{children:Object(r.jsxs)(nt.a,{children:[Object(r.jsx)(rt.a,{children:"Servicio"}),Object(r.jsx)(rt.a,{children:"Descripcion"}),Object(r.jsx)(rt.a,{children:"Precio"}),Object(r.jsx)(rt.a,{children:"Eliminar Entrada"})]})}),Object(r.jsx)(at.a,{children:d.length>0&&d.map((function(e,t){return Object(r.jsxs)(nt.a,{children:[Object(r.jsx)(rt.a,{children:e.nombre}),Object(r.jsx)(rt.a,{children:e.descripcion}),Object(r.jsx)(rt.a,{children:e.precio}),Object(r.jsx)(rt.a,{children:Object(r.jsx)(Dt.a,{onClick:function(){return function(e){var t=d.filter((function(t){return t._id!==e}));u(t)}(e._id)},children:Object(r.jsx)(Vn.a,{style:{color:"red"}})})})]},e._id)}))})]})}),Object(r.jsx)("br",{})]})}),Object(r.jsx)(a.Fragment,{children:Object(r.jsx)(ke.a,{item:!0,xs:12,md:4,children:Object(r.jsxs)(ft.a,{align:"center",children:[Object(r.jsx)("h1",{children:"Datos de la Factura"}),Object(r.jsx)("form",{onSubmit:c((function(e,t){return t.preventDefault(),0===e.cliente.length?A.a.fire({title:"Error",text:"El campo cliente debe estar lleno con un capo valido",icon:"warning"}):0===d.length?A.a.fire({title:"Error",text:"Ingrese por lo menos un procedimiento",icon:"warning"}):void _(ne(e,d))})),children:Object(r.jsxs)(an.a,{children:[Object(r.jsx)(ke.a,{item:!0,xs:12,md:12,children:Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)("h3",{children:"Tipo Servicio"}),Object(r.jsx)(Ke.a,{control:i,name:"tipoServicio",defaultValue:"ARREGLO",options:["ARREGLO"],as:Object(r.jsx)(Pn.a,{fullWidth:!0,placeholder:"Selecciona",SelectProps:{msgNoOptionsMatchFilter:"No hay resultados"}})})]})}),Object(r.jsx)(ke.a,{item:!0,xs:12,md:12,children:Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)("h3",{children:"Estado de servicio"}),Object(r.jsx)(Ke.a,{control:i,name:"procesoServicio",defaultValue:"RECIBIDO",as:Object(r.jsx)(Pn.a,{inputRef:o({required:!0,minLength:3}),fullWidth:!0,options:["RECIBIDO","EN PROCESO","FINALIZADO"],placeholder:"Selecciona el estado del servicio",SelectProps:{msgNoOptionsMatchFilter:"No hay resultados, verifica o crea un cliente"}})})]})}),Object(r.jsx)(ke.a,{item:!0,xs:12,md:12,style:{marginBottom:5},children:Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)("h3",{children:"Selecciona el Cliente"}),Object(r.jsx)(Ke.a,{control:i,name:"cliente",defaultValue:"",as:Object(r.jsx)(Pn.a,{inputRef:o({required:!0,minLength:3}),fullWidth:!0,options:C,placeholder:"Busca por identificacion",SelectProps:{msgNoOptionsMatchFilter:"No hay resultados, verifica o crea un cliente"}})})]})}),Object(r.jsx)(ke.a,{item:!0,xs:12,md:12,style:{marginTop:1},children:Object(r.jsx)(Ce.a,{variant:"contained",color:"primary",onClick:function(){return g(!0)},fullWidth:!0,endIcon:Object(r.jsx)(In.a,{}),children:"Cliente Nuevo"})}),Object(r.jsx)(ke.a,{item:!0,xs:12,md:12,style:{marginTop:5,marginBottom:10},children:Object(r.jsx)(Ce.a,{variant:"contained",onClick:function(){return m(!O)},color:"secondary",fullWidth:!0,endIcon:Object(r.jsx)(Mn.a,{}),children:"Agregar Observacion"})}),O&&Object(r.jsxs)(ke.a,{item:!0,md:12,children:[Object(r.jsx)("h2",{children:Object(r.jsx)("label",{children:"Observaciones"})}),Object(r.jsx)("textarea",{name:"observaciones","aria-label":"empty textarea",placeholder:"Observaciones",style:{borderColor:"black",borderRadius:5,width:"15vw",height:"15vh"},ref:o})]}),Object(r.jsx)(ke.a,{item:!0,xs:12,md:12,children:Object(r.jsx)(qe.a,{value:d.reduce((function(e,t){return e+t.precio}),0),variant:"standard",name:"precioTotal",fullWidth:!0,placeholder:"TOTAL",inputRef:o,InputProps:{startAdornment:Object(r.jsxs)(Rn.a,{position:"start",children:[Object(r.jsx)(zt.a,{})," "]})}})}),Object(r.jsx)("br",{}),Object(r.jsx)(ke.a,{item:!0,xs:12,md:12,children:Object(r.jsx)(Ce.a,{variant:"contained",type:"submit",color:"primary",fullWidth:!0,children:"Guardar"})})]})})]})})})]}),v.estado&&Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)(ke.a,{item:!0,md:12,xs:12,children:Object(r.jsx)(Un,{})})]})]})},Jn=n(623),Xn=n.n(Jn),Hn=n(624),Zn=n.n(Hn),$n=n(620),er=n.n($n),tr=n(621),nr=n.n(tr),rr=n(622),ar=n.n(rr),cr=function(e){var t,n=e.setGestion,c=e.dataEdit,i=Object(s.d)((function(e){return e.procedimientosReducer})).procedimiento,o=Object(s.d)((function(e){return e.objetosReducer})).objetos,l=Object(s.d)((function(e){return e.serviciosReducer})),j=Object(s.c)(),b=Object(a.useState)([]),O=Object(pe.a)(b,2),m=O[0],h=O[1],p=Object(a.useState)([]),f=Object(pe.a)(p,2),g=f[0],_=f[1],y=Object(a.useState)(!1),T=Object(pe.a)(y,2),C=T[0],S=T[1],k=Object(a.useState)(!1),w=Object(pe.a)(k,2),E=w[0],R=w[1],D=Object(Ke.b)(),F=D.register,N=D.handleSubmit,P=D.control;Object(a.useEffect)((function(){j(ue()),j(Q())}),[j]),console.log(l);var W=function(e){_(g.map((function(t){var n;return t.cantidad=null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value,t})))};return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(ke.a,{item:!0,md:2,style:{margin:20},children:Object(r.jsx)(Dt.a,{color:"primary",onClick:function(){j(ie()),j(re()),n(!1)},style:{background:"#d4d700"},"aria-label":"upload picture",component:"span",children:Object(r.jsx)(Fn.a,{})})}),Object(r.jsx)("h1",{style:{textAlign:"center"},children:" Gestor de procesos "}),Object(r.jsx)("h2",{children:"Detalle de proceso"}),Object(r.jsxs)(ke.a,{container:!0,spacing:5,children:[Object(r.jsx)(ke.a,{item:!0,md:6,children:Object(r.jsxs)(Ye.a,{children:[Object(r.jsxs)(Je.a,{children:[Object(r.jsx)(Xe.a,{children:Object(r.jsx)(jt.a,{})}),Object(r.jsxs)(He.a,{children:["Nombre: ",c.cliente.nombre]})]}),Object(r.jsx)(Ze.a,{}),Object(r.jsxs)(Je.a,{children:[Object(r.jsx)(Xe.a,{children:Object(r.jsx)(At.a,{})}),Object(r.jsxs)(He.a,{children:["Numero: ",c.cliente.telefono]})]}),Object(r.jsx)(Ze.a,{}),Object(r.jsxs)(Je.a,{children:[Object(r.jsx)(Xe.a,{children:Object(r.jsx)(xt.a,{})}),Object(r.jsxs)(He.a,{children:["Email: ",c.cliente.email]})]}),Object(r.jsx)(Ze.a,{}),Object(r.jsxs)(Je.a,{children:[Object(r.jsx)(Xe.a,{children:Object(r.jsx)(er.a,{})}),Object(r.jsxs)(He.a,{children:["Identificacion: ",c.cliente.numDocumento]})]}),Object(r.jsx)(Ze.a,{})]})}),Object(r.jsx)(ke.a,{item:!0,md:6,children:Object(r.jsxs)(Ye.a,{children:[Object(r.jsxs)(Je.a,{children:[Object(r.jsx)(Xe.a,{children:Object(r.jsx)(it.a,{})}),Object(r.jsxs)(He.a,{children:["Numero de servicio : ",c.numServicio]})]}),Object(r.jsx)(Ze.a,{}),Object(r.jsxs)(Je.a,{children:[Object(r.jsx)(Xe.a,{children:Object(r.jsx)(st.a,{})}),Object(r.jsxs)(He.a,{children:["Fecha recibido: ",c.fechaRegistro_iso]})]}),Object(r.jsx)(Ze.a,{}),Object(r.jsxs)(Je.a,{children:[Object(r.jsx)(Xe.a,{children:Object(r.jsx)(nr.a,{})}),Object(r.jsxs)(He.a,{children:["Numero consulta: ",c.numConsulta]})]}),Object(r.jsx)(Ze.a,{}),Object(r.jsxs)(Je.a,{children:[Object(r.jsx)(Xe.a,{children:Object(r.jsx)(ar.a,{})}),Object(r.jsxs)(He.a,{children:["Estado servicio: ",c.procesoServicio||"No registra"]})]}),Object(r.jsx)(Ze.a,{})]})})]}),Object(r.jsx)("br",{}),Object(r.jsxs)(ke.a,{item:!0,md:12,children:[Object(r.jsx)("h2",{children:"Procedimientos ya agregados"}),Object(r.jsx)($e.a,{children:Object(r.jsxs)(et.a,{size:"small",children:[Object(r.jsx)(tt.a,{children:Object(r.jsxs)(nt.a,{children:[Object(r.jsx)(rt.a,{children:"Nombre"}),Object(r.jsx)(rt.a,{children:"Descripcion"}),Object(r.jsx)(rt.a,{children:"Precio"})]})}),Object(r.jsx)(at.a,{children:c.procedimientos.map((function(e){return Object(r.jsxs)(nt.a,{children:[Object(r.jsx)(rt.a,{children:e.nombre}),Object(r.jsx)(rt.a,{children:e.descripcion}),Object(r.jsx)(rt.a,{children:e.precio})]},e._id)}))})]})})]}),Object(r.jsx)("br",{}),Object(r.jsx)("h2",{children:"Edicion de proceso"}),Object(r.jsx)("form",{onSubmit:N((function(e,n){return n.preventDefault(),E?A.a.fire({title:"Error",text:"hay campos repetidos en la tabla procedimientos",icon:"warning"}):(t=[].concat(Object(v.a)(c.procedimientos),Object(v.a)(m)),j(function(e,t,n,r){return function(){var a=Object(u.a)(d.a.mark((function a(c){var i,o,s;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i={precioTotal:t.precioTotal,objetos:r.map((function(e){return{producto:e._id,cantidad:e.cantidad,precioUnidad:e.precio,nombreObjeto:e.nombre}})),observaciones:void 0===t.observaciones?[]:[{obj:t.observaciones}],procedimientos:0===n.length?[]:n.map((function(e){return{procedimientos:e._id,nombre:e.nombre,descripcion:e.descripcion,precio:e.precio}})),procesoServicio:t.procesoServicio},a.next=3,Object(x.rutasConToken)("/servicio/arreglo/".concat(e),i,"PUT");case 3:return o=a.sent,a.next=6,o.json();case 6:s=a.sent,c({type:te,payload:s.data});case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(c._id,e,t,g)))})),children:Object(r.jsxs)(ke.a,{container:!0,spacing:2,children:[Object(r.jsx)(ke.a,{item:!0,md:6,children:Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)("label",{children:"Selecciona Estado de servicio"}),Object(r.jsx)(Ke.a,{control:P,name:"procesoServicio",defaultValue:"EN PROCESO",as:Object(r.jsx)(Pn.a,{fullWidth:!0,inputRef:F,placeholder:"Selecciona el estado del proceso",options:["EN PROCESO","FINALIZADO"],SelectProps:{msgNoOptionsMatchFilter:"No hay resultados"}})})]})}),Object(r.jsx)(ke.a,{item:!0,md:6,children:Object(r.jsxs)(ft.a,{align:"center",children:[Object(r.jsx)(Ce.a,{fullWidth:!0,color:"secondary",variant:"contained",onClick:function(){return S(!C)},children:"Agregar Observaciones"}),C&&Object(r.jsx)(a.Fragment,{children:Object(r.jsx)(qe.a,{id:"outlined-multiline-static",label:"Observacion",name:"observaciones",multiline:!0,inputRef:F,rows:4,style:{marginTop:10,marginBottom:5,justifyContent:"center"},variant:"outlined"})})]})}),Object(r.jsx)(ke.a,{item:!0,md:6,children:Object(r.jsxs)(a.Fragment,{children:[Object(r.jsxs)(ft.a,{align:"center",children:[Object(r.jsx)("label",{children:"Seleccione los servicios a adicionar"}),Object(r.jsx)(Nn.MultipleSelect,{name:"procedimientos",inputRef:F,fullWidth:!0,options:i.map((function(e){return e.nombre})),onChange:function(e){!function(e){R(!1),0===(null===e||void 0===e?void 0:e.length)&&e===[]||c.procedimientos.forEach((function(t){null===e||void 0===e||e.forEach((function(e){if(e===t.nombre)return R(!0),A.a.fire({title:"Error",text:"Elimina de la lista ".concat(t.nombre.toUpperCase()),icon:"warning"})}))})),R(!1);var t=e,n=[];for(var r in i)for(var a in t){var o;(null===(o=i[r])||void 0===o?void 0:o.nombre)===t[a]&&n.push(i[r])}h(n)}(e)},placeholder:"Seleccione los procedimientos",SelectProps:{msgNoOptionsMatchFilter:"No hay resultados"}})]}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),m.length>0&&Object(r.jsx)($e.a,{component:En.a,children:Object(r.jsxs)(et.a,{size:"small","aria-label":"a dense table",children:[Object(r.jsx)(tt.a,{children:Object(r.jsxs)(nt.a,{children:[Object(r.jsx)(rt.a,{children:"Servicio"}),Object(r.jsx)(rt.a,{children:"Descripcion"}),Object(r.jsx)(rt.a,{children:"Precio"})]})}),Object(r.jsx)(at.a,{children:m.length>0&&m.map((function(e,t){return Object(r.jsxs)(nt.a,{children:[Object(r.jsx)(rt.a,{children:e.nombre}),Object(r.jsx)(rt.a,{children:e.descripcion}),Object(r.jsx)(rt.a,{children:e.precio})]},e._id)}))})]})})]})}),Object(r.jsx)(ke.a,{item:!0,md:6,children:Object(r.jsxs)(a.Fragment,{children:[Object(r.jsxs)(ft.a,{align:"center",children:[Object(r.jsx)("label",{children:"Seleccione los productos que se usan"}),Object(r.jsx)(Nn.MultipleSelect,{name:"objetos",inputRef:F,fullWidth:!0,options:o.map((function(e){return e.nombre})),onChange:function(e){!function(e){var t=e,n=[];for(var r in o)for(var a in t){var c;(null===(c=o[r])||void 0===c?void 0:c.nombre)===t[a]&&n.push(o[r])}_(n)}(e)},placeholder:"Seleccione los servicios",SelectProps:{msgNoOptionsMatchFilter:"No hay resultados"}})]}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),g.length>0&&Object(r.jsx)($e.a,{component:En.a,children:Object(r.jsxs)(et.a,{size:"small","aria-label":"a dense table",children:[Object(r.jsx)(tt.a,{children:Object(r.jsxs)(nt.a,{children:[Object(r.jsx)(rt.a,{children:"Producto"}),Object(r.jsx)(rt.a,{children:"Stock"}),Object(r.jsx)(rt.a,{children:"Cantidad"})]})}),Object(r.jsx)(at.a,{children:g.map((function(e,t){var n,a;return e.cantidad=(null===(n=document)||void 0===n||null===(a=n.getElementById("cantidad".concat(t)))||void 0===a?void 0:a.value)||0,Object(r.jsxs)(nt.a,{children:[Object(r.jsx)(rt.a,{children:e.nombre}),Object(r.jsx)(rt.a,{children:e.cantidadDisponible}),Object(r.jsx)(rt.a,{children:Object(r.jsx)(qe.a,{onChange:W,type:"number",id:"cantidad".concat(t),defaultValue:e.cantidad,variant:"standard"})})]},e._id)}))})]})})]})}),Object(r.jsx)(ke.a,{item:!0,md:12,children:Object(r.jsx)(ft.a,{align:"center",children:Object(r.jsx)(qe.a,{name:"precioTotal",value:m.length>0?m.reduce((function(e,t){return e+t.precio}),c.precioTotal):c.precioTotal,inputRef:F,variant:"standard",placeholder:"TOTAL",InputProps:{startAdornment:Object(r.jsxs)(Rn.a,{position:"start",children:[Object(r.jsx)(zt.a,{})," "]})}})})}),l.estado&&Object(r.jsxs)(ke.a,{container:!0,spacing:2,children:[Object(r.jsx)(ke.a,{item:!0,md:6,children:Object(r.jsx)("a",{style:{color:"white",textDecoration:"none",width:"100vh"},rel:"noreferrer",href:"https://api.whatsapp.com/send?phone=57".concat(l.servicioProceso.cliente.telefono,"&text=Hola%20").concat(l.servicioProceso.cliente.nombre,",%20el%20estado%20de%20tu%20proceso%20cambio%20a%20").concat(l.servicioProceso.procesoServicio,"%20consulta%20toda%20la%20info%20aqui%20").concat("https://work-shop-app.herokuapp.com","%20codigo%20unico%20de%20tu%20proceso%20es%20tu%20numero%20de%20identificacion%20mas%20el%20numero%20de%20tu%20factura%20").concat(l.servicioProceso.numServicio,"%20codigo:%20").concat(l.servicioProceso.cliente.numDocumento).concat(l.servicioProceso.numServicio,"%20recuerda%20que%20si%20el%20estado%20de%20tu%20factura%20es%20FINALIZADO%20debes%20consultar%20por%20generar%20factura."),target:"_blank",children:Object(r.jsx)(Ce.a,{variant:"contained",endIcon:Object(r.jsx)(Ee.a,{}),style:{background:"#075e54",marginTop:12,color:"white",marginBottom:10},fullWidth:!0,children:"Informa al cliente"})})}),Object(r.jsx)(ke.a,{item:!0,md:6,children:Object(r.jsx)(Ce.a,{variant:"contained",endIcon:Object(r.jsx)(Ee.a,{}),color:"secondary",style:{marginTop:12,marginBottom:10},fullWidth:!0,onClick:function(){j(re()),n(!1)},children:"Finalizar"})})]}),Object(r.jsx)(Ce.a,{type:"submit",fullWidth:!0,color:"primary",variant:"contained",children:"actualizar "})]})})]})},ir=function(e){var t=e.setTallerState,n=Object(a.useState)(!1),c=Object(pe.a)(n,2),i=c[0],o=c[1],l=Object(a.useState)({}),j=Object(pe.a)(l,2),d=j[0],u=j[1],b=Object(s.d)((function(e){return e.ventasReducer.ventas})),x=Object(s.c)();Object(a.useEffect)((function(){x(ie()),x(re())}),[x]);return Object(r.jsx)(a.Fragment,{children:!1===i?Object(r.jsxs)(a.Fragment,{children:[Object(r.jsxs)(a.Fragment,{children:[" ",Object(r.jsxs)(ke.a,{container:!0,style:{margin:15},spacing:2,children:[Object(r.jsx)(ke.a,{item:!0,md:12,xs:12,style:{textAlign:"center"},children:Object(r.jsx)(ve.a,{variant:"h3",children:"Gestion de procesos"})}),Object(r.jsx)(ke.a,{item:!0,md:12,xs:12,style:{marginTop:20},children:Object(r.jsx)(Ce.a,{variant:"contained",color:"secondary",fullWidth:!0,onClick:function(){return t("nuevoServicio")},endIcon:Object(r.jsx)(Xn.a,{}),children:"Registrar nuevo servicio"})})]})]}),Object(r.jsx)(ke.a,{container:!0,style:{margin:15},children:Object(r.jsx)(ke.a,{item:!0,md:12,xs:12,style:{marginTop:20},children:Object(r.jsx)(Ce.a,{variant:"contained",color:"primary",fullWidth:!0,endIcon:Object(r.jsx)(Zn.a,{}),children:"Historial"})})}),Object(r.jsx)(Zt.a,{title:"Servicios Activos",columns:[{field:"numServicio",title:"# Registro"},{field:"fechaRegistro_iso",title:"Fecha"},{field:"nombreCliente",title:"Cliente"},{field:"precioTotal",title:"Valor Procedimiento"},{field:"Colaborador",title:"Colaborador"},{field:"numConsulta",title:"id consulta"}],localization:An,data:b.map((function(e){return e.nombreCliente=e.cliente.nombre||"no registra",e.fechaRegistro_iso=Y()(e.fechaRegistro_iso,!0).format("DD-MM-YYYY"),e.Colaborador=e.usuario.nombreApellido,e.precioTotal=e.precioTotal||0,e.numConsulta=e.numConsulta||"no registra",e})),options:{actionsColumnIndex:-1},actions:[{icon:"speed",tooltip:"Gestionar",onClick:function(e,t){return function(e,t){e.preventDefault(),o(!0),u(t)}(e,t)}}]})]}):Object(r.jsx)(cr,{setGestion:o,dataEdit:d})})},or=function(){var e=Object(a.useState)(""),t=Object(pe.a)(e,2),n=t[0],c=t[1];return Object(r.jsxs)(a.Fragment,{children:["nuevoServicio"===n&&Object(r.jsx)(Yn,{setTallerState:c}),""===n&&Object(r.jsx)(ir,{setTallerState:c})]})},sr=function(){var e=Object(s.c)(),t=Object(s.d)((function(e){return e.procedimientosReducer})).procedimiento;Object(a.useEffect)((function(){e(ue())}),[e]);return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)("h1",{style:{textAlign:"center"},children:"Procedimientos para servicios"}),Object(r.jsx)(Zt.a,{title:"Gestion Procedimientos",columns:[{field:"nombre",title:"Nombre"},{field:"descripcion",title:"Descripcion"},{field:"precio",title:"Precio"}],localization:An,data:t,editable:{onRowAdd:function(t){return new Promise((function(n,r){var a;e((a=t,function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.rutasConToken)("/procedimiento",a,"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:if(i=e.sent,!(null===(n=i.error)||void 0===n||null===(r=n.errors)||void 0===r?void 0:r.precio)){e.next=10;break}return e.abrupt("return",A.a.fire({title:"Error",text:"El campo PRECIO debe ser numerico",icon:"error"}));case 10:t({type:le,payload:i.procedimiento});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),n()}))},onRowUpdate:function(t,n){return new Promise((function(n,r){var a;e((a=t,function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.rutasConToken)("/procedimiento/".concat(a._id),a,"PUT");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,e.prev=6,t({type:je,payload:r.procedimiento}),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(6),e.abrupt("return",A.a.fire({title:"Error",text:" Valida el campo precio debe ser numerico",icon:"error"}));case 13:case"end":return e.stop()}}),e,null,[[6,10]])})));return function(t){return e.apply(this,arguments)}}())),n()}))},onRowDelete:function(t){return new Promise((function(n,r){var a;e((a=t,console.log(a),function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.rutasConToken)("/procedimiento/".concat(a._id),a,"DELETE");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,t({type:de,payload:r.documentoElimindo});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),n()}))}},options:{actionsColumnIndex:-1}})]})},lr=240,jr=Object(Te.a)((function(e){var t;return{root:{display:"flex",color:"black"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:lr,width:"calc(100% - ".concat(lr,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:lr,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:lr,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),background:"#d4d700"},drawerClose:(t={transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},Object(kt.a)(t,e.breakpoints.up("sm"),{width:e.spacing(9)+1}),Object(kt.a)(t,"background","#d4d700"),t),title:{flexGrow:1},titleBar:{flexGrow:1,textAlign:"center"},toolbar:Object(b.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}})),dr=function(){var e,t,n=Object(s.c)(),c=Object(s.d)((function(e){return e})).loginReducer.nombreApellido,i=jr(),o=Object(wt.a)(),l=Object(a.useState)(!1),j=Object(pe.a)(l,2),d=j[0],u=j[1],b=Object(a.useState)(localStorage.getItem("pagina")),x=Object(pe.a)(b,2),O=x[0],A=x[1],m=function(e){A(e),localStorage.setItem("pagina",e)};return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:i.root,children:[Object(r.jsx)(_e.a,{}),Object(r.jsx)(fe.a,{position:"fixed",className:Object(Et.default)(i.appBar,Object(kt.a)({},i.appBarShift,d)),children:Object(r.jsxs)(ge.a,{children:[Object(r.jsx)(Dt.a,{color:"inherit","aria-label":"open drawer",onClick:function(){u(!0),n(re())},edge:"start",className:Object(Et.default)(i.menuButton,Object(kt.a)({},i.hide,d)),children:Object(r.jsx)(Nt.a,{})}),Object(r.jsx)(ve.a,{variant:"h6",noWrap:!0,className:i.title,children:Object(r.jsx)(Ce.a,{style:{color:"white"},onClick:function(){return m("")},children:"Gestion"})}),Object(r.jsx)(Ce.a,{onClick:function(){n((function(e){localStorage.clear(),e({type:g})}))},variant:"contained",size:"small",color:"secondary",children:" Cerrar Sesion "})]})}),Object(r.jsxs)(Rt.a,{variant:"permanent",className:Object(Et.default)(i.drawer,(e={},Object(kt.a)(e,i.drawerOpen,d),Object(kt.a)(e,i.drawerClose,!d),e)),classes:{paper:Object(Et.default)((t={},Object(kt.a)(t,i.drawerOpen,d),Object(kt.a)(t,i.drawerClose,!d),t))},children:[Object(r.jsxs)("div",{className:i.toolbar,children:[Object(r.jsx)(ve.a,{className:i.titleBar,variant:"h6",children:c}),Object(r.jsx)(Dt.a,{onClick:function(){u(!1),n(re())},style:{color:"black"},children:"rtl"===o.direction?Object(r.jsx)(Lt.a,{}):Object(r.jsx)(Wt.a,{})})]}),Object(r.jsxs)(Ye.a,{style:{color:"black"},children:[Object(r.jsx)(Ze.a,{}),Object(r.jsxs)(Je.a,{button:!0,onClick:function(){return m("Usuario")},children:[Object(r.jsxs)(Xe.a,{style:{color:"black"},children:[Object(r.jsx)(Xt.a,{})," "]}),Object(r.jsx)(He.a,{children:" Usuarios "})]}),Object(r.jsx)(Ze.a,{}),Object(r.jsxs)(Je.a,{button:!0,onClick:function(){return m("Inventario")},children:[Object(r.jsxs)(Xe.a,{style:{color:"black"},children:[Object(r.jsx)(Bt.a,{})," "]}),Object(r.jsx)(He.a,{children:"Inventario"})]}),Object(r.jsx)(Ze.a,{}),Object(r.jsxs)(Je.a,{button:!0,onClick:function(){return m("Cliente")},children:[Object(r.jsxs)(Xe.a,{style:{color:"black"},children:[Object(r.jsx)(Kt.a,{})," "]}),Object(r.jsx)(He.a,{children:"Clientes"})]}),Object(r.jsx)(Ze.a,{}),Object(r.jsxs)(Je.a,{button:!0,onClick:function(){return m("Procedimientos")},children:[Object(r.jsxs)(Xe.a,{style:{color:"black"},children:[Object(r.jsx)(Yt.a,{})," "]}),Object(r.jsx)(He.a,{children:"Procedimientos"})]}),Object(r.jsx)(Ze.a,{}),Object(r.jsxs)(Je.a,{button:!0,onClick:function(){return m("Venta")},children:[Object(r.jsxs)(Xe.a,{style:{color:"black"},children:[Object(r.jsx)(zt.a,{})," "]}),Object(r.jsx)(He.a,{children:"Ventas"})]}),Object(r.jsx)(Ze.a,{}),Object(r.jsxs)(Je.a,{button:!0,onClick:function(){return m("Taller")},children:[Object(r.jsxs)(Xe.a,{style:{color:"black"},children:[Object(r.jsx)(Qt.a,{})," "]}),Object(r.jsx)(He.a,{children:"Taller"})]}),Object(r.jsx)(Ze.a,{})]})]}),Object(r.jsxs)("main",{className:i.content,children:[Object(r.jsx)("div",{className:i.toolbar}),"Usuario"===O?Object(r.jsx)(mn,{}):"Inventario"===O?Object(r.jsx)(kn,{}):"Cliente"===O?Object(r.jsx)(wn,{}):"Venta"===O?Object(r.jsx)(Gn,{}):"Taller"===O?Object(r.jsx)(or,{}):"Procedimientos"===O?Object(r.jsx)(sr,{}):""===O&&Object(r.jsx)("h1",{children:"Index Page"})]})]})})},ur=function(){var e,t=Object(Ke.b)(),n=t.errors,a=t.handleSubmit,c=t.register,i=Object(s.c)();return Object(r.jsx)("div",{style:{background:"#d4d700",width:"100vw",height:"100vh"},children:Object(r.jsx)(ke.a,{container:!0,justify:"center",children:Object(r.jsx)(ke.a,{item:!0,xs:12,md:5,children:Object(r.jsx)(ft.a,{bgcolor:"grey.100",borderColor:"grey.200",borderRadius:10,border:2,p:2,m:10,children:Object(r.jsxs)("form",{onSubmit:a((function(e,t){t.preventDefault(),i(function(e){return function(){var t=Object(u.a)(d.a.mark((function t(n){var r,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(x.rutasSinToken)("/login",e,"POST");case 2:return r=t.sent,t.next=5,r.json();case 5:if(!(a=t.sent).ok){t.next=11;break}localStorage.setItem("token",a.token),n({type:f,payload:a.Usuario}),t.next=12;break;case 11:return t.abrupt("return",A.a.fire({title:"Error",text:a.mensaje,icon:"error"}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))})),children:[Object(r.jsx)(ve.a,{variant:"h4",align:"center",children:"Work Soft"}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)(ke.a,{container:!0,children:Object(r.jsx)(ke.a,{item:!0,xs:12,align:"center",children:Object(r.jsx)(qe.a,{name:"documento",id:"outlined-basic",fullWidth:!0,label:"Documento",variant:"outlined",inputRef:c({required:{value:!0,message:"Numero de documento obligatorio"},minLength:{value:5,message:"El campo debe tener mas de 4  carateres"}})})})}),n.documento&&Object(r.jsxs)(ht.a,{justify:"center",severity:"error",children:[" ",n.documento.message]}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)(ke.a,{container:!0,children:Object(r.jsx)(ke.a,{item:!0,xs:12,align:"center",children:Object(r.jsx)(qe.a,{name:"contrase\xf1a",fullWidth:!0,label:"Contrase\xf1a",variant:"outlined",type:"password",inputRef:c({required:{value:!0,message:" Debe de ingresar una contrase\xf1a"},minLength:{value:6,message:"El campo debe tener minimo 6 caracteres"}})})})}),n.contrase\u00f1a&&Object(r.jsxs)(ht.a,{justify:"center",severity:"error",children:[" ",n.contrase\u00f1a.message]}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)(Ce.a,{fullWidth:!0,color:"primary",variant:"contained",type:(null===n||void 0===n||null===(e=n.documento)||void 0===e?void 0:e.message)?"button":"submit",children:" Ingresa "})]})})})})})},br=n(348),xr=function(e){var t=e.isAuthenticated,n=e.component,a=Object(br.a)(e,["isAuthenticated","component"]);return Object(r.jsx)(he.b,Object(b.a)(Object(b.a)({},a),{},{component:function(e){return t?Object(r.jsx)(n,Object(b.a)({},e)):Object(r.jsx)(he.a,{to:"/login"})}}))},Or=function(e){var t=e.isAuthenticated,n=e.component,a=Object(br.a)(e,["isAuthenticated","component"]);return Object(r.jsx)(he.b,Object(b.a)(Object(b.a)({},a),{},{component:function(e){return t?Object(r.jsx)(he.a,{to:"/admin"}):Object(r.jsx)(n,Object(b.a)({},e))}}))},Ar=function(){var e=Object(s.c)(),t=Object(s.d)((function(e){return e.loginReducer}))._id;return Object(a.useEffect)((function(){e(function(){var e=Object(u.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.rutasConToken)("/login");case 2:return n=e.sent,e.next=5,n.json();case 5:(r=e.sent).ok?(localStorage.setItem("token",r.token),t({type:f,payload:r.Usuario})):t({type:h});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(r.jsx)("div",{children:Object(r.jsx)(me.a,{children:Object(r.jsxs)(he.d,{children:[Object(r.jsx)(Or,{isAuthenticated:!!t,exact:!0,path:"/",component:St}),Object(r.jsx)(Or,{isAuthenticated:!!t,exact:!0,path:"/login",component:ur}),Object(r.jsx)(xr,{isAuthenticated:!!t,path:"/admin",component:dr})]})})})},mr=n(202),hr=Object(mr.a)({palette:{primary:{main:"#2a2a72",light:"#009ffd",dark:"#004e98",contrastText:"#eaf6ff"},secondary:{light:"#ffff3f",main:"#d4d700",dark:"#aacc00",contrastText:"#000000"}}}),pr=(Object(Te.a)((function(e){return{offset:e.mixins.toolbar,menuButton:{marginRight:e.spacing(2)},title:{flexGrow:2}}})),n(949)),fr=function(){return Object(r.jsx)(s.a,{store:Ae,children:Object(r.jsx)(pr.a,{theme:hr,children:Object(r.jsx)(Ar,{})})})};o.a.render(Object(r.jsx)(fr,{}),document.getElementById("root"))}},[[907,1,2]]]);
//# sourceMappingURL=main.117e056b.chunk.js.map